{"version":3,"sources":["Components/api/api.js","Components/Header/Header.js","Components/Header/HeaderContainer.js","Components/Login/Login.jsx","Redux/app-reducer.js","Redux/store-redux.js","Components/hoc/withSuspense.js","Components/Friends/Friend/Friend.jsx","Components/Friends/Friends.jsx","Components/Friends/FriendsContainer.jsx","Components/NavBar/BlockFriends/BlockFriend/BlockFriend.jsx","Components/NavBar/BlockFriends/BlockFriends.jsx","Components/NavBar/Nav.js","Components/NavBar/NavContainer.js","assets/images/Telegram.svg","assets/images/instagram.svg","assets/images/mail.svg","Components/Footer/Footer.js","Components/Footer/FooterContainer.js","Components/Common/ScrollToTop.js","App.js","index.js","Redux/auth-reducer.js","Components/Footer/Footer.module.css","Components/Friends/Friends.module.css","Components/NavBar/BlockFriends/BlockFriends.module.css","Components/Login/Login.module.css","Components/NavBar/Nav.module.css","utils/validators.js","Components/Header/Header.module.css","Components/Common/Form control/FormControl.module.css","assets/images/userPhoto.png","Components/Common/Form control/FormControl.js","Redux/profile-reducer.js","assets/images/preloader.svg","Components/Common/Preloader/Preloader.jsx","Redux/dialogs-reducer.js","Redux/Users-reducer.js"],"names":["instance","axios","create","withCredentials","headers","baseURL","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","unfollowUser","userId","delete","followUser","post","authAPI","authMe","authLogin","email","password","rememberMe","captcha","authLogout","profileAPI","getProfile","getProfileStatus","userID","updateProfileStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","securityAPI","getCaptcha","Header","props","className","s","header","loginBlock","isAuth","existingUsername","login","to","userPhoto","src","Button","type","onClick","variant","color","HeaderContainer","this","React","connect","state","auth","Input","element","LoginForm","onSubmit","render","handleSubmit","event","a","placeholder","name","component","validate","required","captchaUrl","isErrorForm","formSummaryError","errorMessage","button","disabled","loggingInProgress","INITIALIZED_SUCCESS","initiationState","initialized","initializedSuccess","appReducer","action","reducers","combineReducers","profilePage","profileReducer","dialogsPage","dialogsReducer","usersPage","usersReducer","authReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","__store__","withSuspense","Component","fallback","Friend","friends","homeLink","avatar","friendsName","Friends","friendsElement","profileData","map","friend","id","friendsItem","BlockFriend","BlockFriends","linkCreator","linkName","item","activeClassName","activeLink","Nav","nav","itemFriends","Footer","footer","creator","contactsCreator","telegram","target","href","instagram","mail","copyright","withRouter","history","useEffect","unlisten","listen","scrollTo","ProfileContainer","lazy","DialogsContainer","UsersContainer","App","NavContainer","exact","from","path","FriendsContainer","FooterContainer","Preloader","AppContainer","MainApp","ReactDOM","StrictMode","document","getElementById","SET_USER_DATA","SET_USER_PHOTO","SET_CAPTCHA_URL","SET_ERROR_FORM","TOGGLE_IS_LOGGING_PROGRESS","isUserPhoto","setUserData","toggleIsLoggingProgress","isFetching","dispatch","resultCode","photos","small","message","messages","length","url","module","exports","composeValidators","validators","value","reduce","error","validator","undefined","maxLengthCreator","maxLength","Element","cols","rows","input","meta","hasError","touched","formControl","ADD_POST","SET_USER_PROFILE","SET_PROFILE_STATUS","DELETE_POST","SAVE_PHOTO_SUCCESS","country","city","postsData","likes","userProfile","addPost","bodyPost","setProfileStatus","profileStatus","savePhotoSuccess","getState","Promise","reject","newPost","filter","p","idPost","preLoader","SEND_MESSAGE","messageData","textMessage","sendMessage","messageBody","newMessage","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalCount","followingProgress","followSuccess","unFollowSuccess","setCurrentPage","toggleIsFetching","toggleIsFollowingProgress","requestUsers","items","unfollow","follow","u","followed"],"mappings":"yGAAA,oJAEMA,EAFN,OAEiBC,EAAMC,OAAO,CAC1BC,iBAAiB,EACjBC,QAAS,CACL,UAAW,wCAEfC,QAAS,kDAGAC,EAAW,CACpBC,SADoB,SACXC,EAAaC,GAClB,OAAOT,EACFU,IADE,qBACgBF,EADhB,kBACqCC,IACvCE,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAGnCC,aAPoB,SAOPC,GACT,OAAOf,EACFgB,OADE,iBACeD,IACjBJ,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAEnCI,WAZoB,SAYTF,GACP,OAAOf,EACFkB,KADE,iBACaH,IACfJ,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAK1BM,EAAU,CACnBC,OADmB,WAEf,OAAOpB,EACFU,IADE,YAIXW,UANmB,SAMTC,EAAOC,EAAUC,GAA2B,IAAfC,EAAc,uDAAJ,GAC7C,OAAOzB,EACFkB,KAAK,aAAc,CAACI,QAAOC,WAAUC,aAAYC,aAE1DC,WAVmB,WAWf,OAAO1B,EACFgB,OAAO,gBAIPW,EAAa,CACtBC,WADsB,SACXb,GACP,OAAOf,EACFU,IADE,kBACaK,IACfJ,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAEnCgB,iBANsB,SAMLC,GACb,OAAO9B,EACFU,IADE,yBACoBoB,IACtBnB,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAEnCkB,oBAXsB,SAWFC,GAChB,OAAOhC,EACFiC,IAAI,iBAAkB,CAACD,OAAQA,KAGxCE,UAhBsB,SAgBZC,GACN,IAAMC,EAAW,IAAIC,SAErB,OADAD,EAASE,OAAO,QAASH,GAClBnC,EACFiC,IAAI,gBAAiBG,EAAU,CAC5BhC,QAAS,CACL,eAAgB,0BAIhCmC,YA1BsB,SA0BVC,GACR,OAAOxC,EACFiC,IAAI,UAAWO,KAIfC,EAAc,CACvBC,WADuB,WAEnB,OAAO1C,EACFU,IADE,gC,4LC7CAiC,EA7BA,SAACC,GACZ,OACI,wBAAQC,UAAWC,IAAEC,OAArB,SACI,sBAAKF,UAAWC,IAAEE,WAAlB,UACI,+BACKJ,EAAMK,OACD,qBAAKJ,UAAWC,IAAEI,iBAAlB,SAAqCN,EAAMO,QAC3C,cAAC,IAAD,CAASC,GAAG,SAAZ,qBAEV,+BACMR,EAAMK,OACkB,OAApBL,EAAMS,UAAqB,8BAAK,qBAAKC,IAAKV,EAAMS,cAAqB,qBAAKC,IAAKD,MAC/E,OAEV,+BACKT,EAAMK,OACD,8BACE,cAACM,EAAA,EAAD,CAAQC,KAAK,SACLC,QAASb,EAAMlB,WACfgC,QAAQ,YACRC,MAAM,UAHd,sBAKF,a,gBCvBpBC,E,4JAEF,WACI,OAAO,cAAC,EAAD,eAAYC,KAAKjB,Y,GAHFkB,aAefC,eARO,SAACC,GACnB,MAAO,CACHf,OAAQe,EAAMC,KAAKhB,OACnBE,MAAOa,EAAMC,KAAKd,MAClBE,UAAWW,EAAMC,KAAKZ,aAIU,CAAC3B,eAAYN,YAAtC2C,CAA+CH,G,gECVxDM,EAAQC,YAAQ,SAEhBC,EAAY,SAACxB,GAMf,OACI,cAAC,IAAD,CAAMyB,SALO,SAACjC,GACdQ,EAAMvB,UAAUe,EAASd,MAAOc,EAASb,SAAUa,EAASZ,WAAYY,EAASX,UAK3E6C,OAAQ,gBAAEC,EAAF,EAAEA,aAAF,OACJ,uBAAMF,SAAQ,uCAAE,WAAMG,GAAN,SAAAC,EAAA,sEACNF,EAAaC,GADP,2CAAF,sDAAd,UAGI,8BACI,cAAC,IAAD,CAAOE,YAAa,QAASC,KAAM,QAASC,UAAWV,EAChDW,SAAUC,QAErB,8BACI,cAAC,IAAD,CAAOJ,YAAa,WAAYC,KAAM,WAAYC,UAAWV,EAAOV,KAAM,WACnEqB,SAAUC,QAErB,gCACI,cAAC,IAAD,CAAOtB,KAAM,WAAYmB,KAAM,aAAcC,UAAWV,IAD5D,kBAGA,qBAAKrB,UAAWC,IAAErB,QAAlB,SACKmB,EAAMmC,YAAc,qBAAKzB,IAAKV,EAAMmC,eAEzC,8BACKnC,EAAMmC,YAAc,cAAC,IAAD,CAAOL,YAAa,gBAAiBC,KAAM,UAAWC,UAAWV,EAC1DW,SAAUC,QAE1C,8BACKlC,EAAMoC,aAAe,qBAAKnC,UAAWC,IAAEmC,iBAAlB,SAAqCrC,EAAMsC,iBAErE,qBAAKrC,UAAWC,IAAEqC,OAAlB,SACI,cAAC5B,EAAA,EAAD,CAAQC,KAAK,SACL4B,SAAUxC,EAAMyC,kBAChB5B,QAASc,EACTb,QAAQ,YACRC,MAAM,UAJd,4BAoCXI,eAVS,SAACC,GACrB,MAAO,CACHf,OAAQe,EAAMC,KAAKhB,OACnB8B,WAAYf,EAAMC,KAAKc,WACvBC,YAAahB,EAAMC,KAAKe,YACxBE,aAAclB,EAAMC,KAAKiB,aACzBG,kBAAmBrB,EAAMC,KAAKoB,qBAIE,CAAChE,eAA1B0C,EAzBD,SAACnB,GAEX,OAAIA,EAAMK,OACC,cAAC,IAAD,CAAUG,GAAI,aAIrB,sBAAKP,UAAWC,IAAEE,WAAlB,UACI,uCACA,cAAC,EAAD,CAAW3B,UAAWuB,EAAMvB,UAAW0D,WAAYnC,EAAMmC,WAAYC,YAAapC,EAAMoC,YAC7EE,aAActC,EAAMsC,aAAcG,kBAAmBzC,EAAMyC,0BCjE5EC,EAAsB,0BAGxBC,EAAkB,CAClBC,aAAa,GAkBJC,EAAqB,iBAAO,CAACjC,KAAM8B,IAQjCI,EAtBI,WAAsC,IAArC1B,EAAoC,uDAA5BuB,EAAiBI,EAAW,uCAEpD,OAAQA,EAAOnC,MACX,KAAK8B,EACD,OAAO,2BACAtB,GADP,IAEIwB,aAAa,IAErB,QACI,OAAOxB,I,gDCXf4B,EAAWC,YAAgB,CAC3BC,YAAaC,IACbC,YAAaC,IACbC,UAAWC,IACXlC,KAAMmC,IACNC,IAAKX,IAGHY,EAAmBC,OAAOC,sCAAwCC,IAClEC,EAAQC,YAAYf,EAAUU,EAAiBM,YAAgBC,OAErEN,OAAOO,UAAYJ,EAEJA,QCnBFK,EAAe,SAACC,GAAD,OAAe,SAACpE,GACxC,OACI,cAAC,WAAD,CAAgBqE,SAAU,6CAA1B,SACI,cAACD,EAAD,eAAepE,Q,iBCWZsE,EAbA,SAACtE,GACZ,OACI,sBAAKC,UAAWC,IAAEqE,QAAlB,UACI,8BACI,cAAC,IAAD,CAAS/D,GAAIR,EAAMwE,SAAnB,SAA8BxE,EAAMyE,WAExC,qBAAKxE,UAAWC,IAAEwE,YAAlB,SACI,cAAC,IAAD,CAASlE,GAAIR,EAAMwE,SAAnB,SAA8BxE,EAAM+B,aCMrC4C,EAbC,SAAC3E,GACb,IAAI4E,EAAiB5E,EAAM6E,YACtBC,KAAI,SAAAC,GAAM,OAAI,cAAC,EAAD,CAAQN,OAAQM,EAAON,OAAQ1C,KAAMgD,EAAOhD,KAAMyC,SAAUO,EAAOP,UAAeO,EAAOC,OAE5G,OACI,qBAAK/E,UAAWC,IAAEqE,QAAlB,SACI,qBAAKtE,UAAWC,IAAE+E,YAAlB,SACKL,OCDFzD,gBANO,SAACC,GACnB,MAAO,CACHyD,YAAazD,EAAM8B,YAAY2B,eAIxB1D,CAA0BwD,G,wCCO1BO,GAbK,SAAClF,GACjB,OACI,sBAAKC,UAAWC,KAAEqE,QAAlB,UACI,8BACI,cAAC,IAAD,CAAS/D,GAAIR,EAAMwE,SAAnB,SAA8BxE,EAAMyE,WAExC,qBAAKxE,UAAWC,KAAEwE,YAAlB,SACI,cAAC,IAAD,CAASlE,GAAIR,EAAMwE,SAAnB,SAA8BxE,EAAM+B,aCOrCoD,GAdM,SAACnF,GAClB,IAAI4E,EAAiB5E,EAAM6E,YACtBC,KAAI,SAAAC,GAAM,OAAI,cAAC,GAAD,CAAaN,OAAQM,EAAON,OAAQ1C,KAAMgD,EAAOhD,KAAMyC,SAAUO,EAAOP,UACtDO,EAAOC,OAE5C,OACI,qBAAK/E,UAAWC,KAAEqE,QAAlB,SACI,qBAAKtE,UAAWC,KAAE+E,YAAlB,SACKL,OCPXQ,GAAc,SAAC5E,EAAI6E,GACrB,OACI,qBAAKpF,UAAWC,KAAEoF,KAAlB,SACI,cAAC,IAAD,CAAS9E,GAAE,WAAMA,GAAM+E,gBAAiBrF,KAAEsF,WAA1C,SAAuDH,OA8BpDI,GAzBH,SAACzF,GACT,OACI,sBAAKC,UAAWC,KAAEwF,IAAlB,UACKN,GAAY,UAAW,WAEvBA,GAAY,UAAW,WAEvBA,GAAY,UAAW,YAEvBA,GAAY,QAAS,SAErBpF,EAAMK,QACP,gCACI,qBAAKJ,UAAWC,KAAEyF,YAAlB,qBAGA,8BACI,cAAC,GAAD,CAAcd,YAAa7E,EAAM6E,uBCrBtC1D,gBALO,SAACC,GAAD,MAAY,CAC9ByD,YAAazD,EAAM8B,YAAY2B,YAC/BxE,OAAQe,EAAMC,KAAKhB,UAGRc,CAA0BsE,I,oBCR1B,OAA0B,qCCA1B,OAA0B,sCCA1B,OAA0B,iCCgC1BG,GA1BA,SAAC5F,GACZ,OACI,sBAAKC,UAAWC,KAAE2F,OAAlB,UACK7F,EAAMK,QACP,qBAAKJ,UAAWC,KAAE4F,QAAlB,SACI,cAAC,IAAD,CAAStF,GAAG,iBAAZ,6BAEJ,sBAAKP,UAAWC,KAAE6F,gBAAlB,UACI,sBAAM9F,UAAWC,KAAE8F,SAAnB,SACI,oBAAGC,OAAO,SAASC,KAAK,+BAAxB,UAAuD,qBAAKxF,IAAKsF,KAAjE,UAEJ,sBAAM/F,UAAWC,KAAEiG,UAAnB,SACI,oBAAGF,OAAO,SAASC,KAAK,4CAAxB,UAAoE,qBAAKxF,IAAKyF,KAA9E,SAEJ,sBAAMlG,UAAWC,KAAEkG,KAAnB,SACI,mBAAGH,OAAO,SAASC,KAAK,6KAAxB,SAA4F,qBACxFxF,IAAK0F,YAGjB,qBAAKnG,UAAWC,KAAEmG,UAAlB,2BClBGlF,gBAJO,SAACC,GAAD,MAAY,CAC9Bf,OAAQe,EAAMC,KAAKhB,UAGRc,CAA0ByE,ICS1BU,oBAbf,YAAmC,IAAZC,EAAW,EAAXA,QAUnB,OATAC,qBAAU,WACN,IAAMC,EAAWF,EAAQG,QAAO,WAC5B/C,OAAOgD,SAAS,EAAG,MAEvB,OAAO,WACHF,OAEL,IAEK,QCGNG,GAAmB1F,IAAM2F,MAAK,kBAAM,iCACpCC,GAAmB5F,IAAM2F,MAAK,kBAAM,iCACpCE,GAAiB7F,IAAM2F,MAAK,kBAAM,iCAElCG,G,uKACF,WACI/F,KAAKjB,MAAM6C,uB,oBAGf,WACI,OAAK5B,KAAKjB,MAAM4C,YAIZ,sBAAK3C,UAAU,cAAf,UACI,cAAC,GAAD,IACA,cAAC,EAAD,IACA,cAACgH,GAAD,IACA,qBAAKhH,UAAU,sBAAf,SACI,eAAC,IAAD,WACI,cAAC,IAAD,CAAUiH,OAAK,EAACC,KAAK,IAAI3G,GAAG,aAC5B,cAAC,IAAD,CAAO4G,KAAK,oBAAoB1F,OAAQyC,EAAayC,MACrD,cAAC,IAAD,CAAOQ,KAAK,WACL1F,OAAQ,kBAAM,cAAC2F,GAAD,OACrB,cAAC,IAAD,CAAOD,KAAK,WAAW1F,OAAQyC,EAAa2C,MAC5C,cAAC,IAAD,CAAOM,KAAK,SAAS1F,OAAQyC,EAAa4C,MAC1C,cAAC,IAAD,CAAOK,KAAK,SAAS1F,OAAQ,kBAAM,cAAC,EAAD,OACnC,cAAC,IAAD,CAAO0F,KAAK,IAAI1F,OAAQ,kBAAM,8BAAK,wDAG3C,cAAC4F,GAAD,OAnBG,cAACC,EAAA,EAAD,Q,GAPDrG,IAAMkD,WAoClBoD,GAAe3D,YACjByC,IACAnF,aANkB,SAACC,GAAD,MAAY,CAC9BwB,YAAaxB,EAAMqC,IAAIb,eAKE,CAACC,uBAFTgB,CAGnBmD,IAUaS,GARC,SAACzH,GACb,OAAO,cAAC,IAAD,UACH,cAAC,IAAD,CAAU8D,MAAOA,EAAjB,SACI,cAAC0D,GAAD,eAAkBxH,SC3D9B0H,IAAShG,OACL,cAAC,IAAMiG,WAAP,UACI,cAAC,GAAD,MAEJC,SAASC,eAAe,U,gLCPtBC,EAAgB,qBAChBC,EAAiB,sBACjBC,EAAkB,uBAClBC,EAAiB,sBACjBC,EAA6B,oCAG/BvF,EAAkB,CAClBzD,OAAQ,KACRqB,MAAO,KACP7B,MAAO,KACP2B,QAAQ,EACRI,UAAW,KACX0H,aAAa,EACbhG,WAAY,GACZC,aAAa,EACbE,aAAc,GACdG,mBAAmB,GAsCV2F,EAAc,SAAClJ,EAAQR,EAAO6B,EAAOF,GAAvB,MAAmC,CAC1DO,KAAMkH,EACN7J,KAAM,CAACiB,SAAQqB,QAAO7B,QAAO2B,YASpBgI,EAA0B,SAACC,GAAD,MAAiB,CAAC1H,KAAMsH,EAA4BI,eAE5E9E,IAhDK,WAAsC,IAArCpC,EAAoC,uDAA5BuB,EAAiBI,EAAW,uCAErD,OAAQA,EAAOnC,MACX,KAAKkH,EACD,OAAO,2BACA1G,GACA2B,EAAO9E,MAElB,KAAK8J,EACD,OAAO,2BACA3G,GADP,IAEIX,UAAWsC,EAAOtC,YAE1B,KAAKuH,EACD,OAAO,2BACA5G,GADP,IAEIe,WAAYY,EAAOZ,aAE3B,KAAK8F,EACD,OAAO,2BACA7G,GADP,IAEIgB,YAAaW,EAAOX,YACpBE,aAAcS,EAAOT,eAEzB,KAAK4F,EACL,OAAO,2BACA9G,GADP,IAEIqB,kBAAmBM,EAAOuF,aAElC,QACI,OAAOlH,IAoBZ,IAAM5C,EAAS,yDAAM,WAAO+J,GAAP,yBAAA1G,EAAA,sEACHtD,IAAQC,SADL,UAES,KAD7BR,EADoB,QAEXC,KAAKuK,WAFM,0BAGKxK,EAASC,KAAKA,KAAlC+G,EAHe,EAGfA,GAAIzE,EAHW,EAGXA,MAAO7B,EAHI,EAGJA,MAChB6J,EAASH,EAAYpD,EAAItG,EAAO6B,GAAO,IAJnB,SAKHxB,IAAWC,WAAWgG,GALnB,OAKhB/G,EALgB,OAMpBsK,GAhBqB9H,EAgBCxC,EAAKwK,OAAOC,MAhBE,CAAC9H,KAAMmH,EAAgBtH,eAUvC,kCAVA,IAACA,IAUD,OAAN,uDAUThC,EAAY,SAACC,EAAOC,EAAUC,EAAYC,GAA9B,8CAA0C,WAAO0J,GAAP,iBAAA1G,EAAA,6DAC/D0G,EAASF,GAAwB,IAD8B,SAE1C9J,IAAQE,UAAUC,EAAOC,EAAUC,EAAYC,GAFL,OAG9B,KAD7Bb,EAF2D,QAGlDC,KAAKuK,WACdD,EAAS/J,KAEwB,KAA7BR,EAASC,KAAKuK,WACdD,EAASzI,MAEL6I,EAAU3K,EAASC,KAAK2K,SAASC,OAAS,EAAI7K,EAASC,KAAK2K,SAAS,GAAK,aAC9EL,EA1BgD,CAAC3H,KAAMqH,EAAgB7F,aA0BjD,EA1B8DE,aA0BxDqG,KAGpCJ,EAASF,GAAwB,IAb8B,2CAA1C,uDAgBZvJ,EAAa,yDAAM,WAAOyJ,GAAP,SAAA1G,EAAA,sEACPtD,IAAQO,aADD,OAEK,IAFL,OAEfb,KAAKuK,YACdD,EAASH,EAAY,KAAM,KAAM,MAAM,IAHf,2CAAN,uDAObtI,EAAa,yDAAM,WAAOyI,GAAP,eAAA1G,EAAA,sEACPhC,IAAYC,aADL,OACxB9B,EADwB,OAE5BuK,GA3CuBpG,EA2CHnE,EAASC,KAAK6K,IA3CK,CAAClI,KAAMoH,EAAiB7F,gBAyCnC,iCAzCN,IAACA,IAyCK,OAAN,wD,mBCxG1B4G,EAAOC,QAAU,CAAC,OAAS,uBAAuB,QAAU,wBAAwB,gBAAkB,gCAAgC,SAAW,yBAAyB,UAAY,0BAA0B,KAAO,qBAAqB,UAAY,4B,mBCAxPD,EAAOC,QAAU,CAAC,QAAU,yBAAyB,YAAc,6BAA6B,YAAc,+B,mBCA9GD,EAAOC,QAAU,CAAC,QAAU,8BAA8B,YAAc,kCAAkC,YAAc,oC,mBCAxHD,EAAOC,QAAU,CAAC,QAAU,uBAAuB,WAAa,0BAA0B,OAAS,sBAAsB,iBAAmB,kC,mBCA5ID,EAAOC,QAAU,CAAC,IAAM,iBAAiB,KAAO,kBAAkB,WAAa,wBAAwB,YAAc,2B,gCCDrH,sGAAO,IAAMC,EAAoB,sCAAIC,EAAJ,yBAAIA,EAAJ,uBAAmB,SAAAC,GAAK,OACrDD,EAAWE,QAAO,SAACC,EAAOC,GAAR,OAAsBD,GAASC,EAAUH,UAAQI,KAE1DrH,EAAW,SAACiH,GACrB,IAAIA,GAAmB,KAAVA,EACb,MAAO,qBAGEK,EAAmB,SAACC,GAAD,OAAe,SAACN,GAC5C,GAAIA,EAAMN,OAASY,EAAW,MAAM,iBAAN,OAAwBA,EAAxB,e,mBCRlCV,EAAOC,QAAU,CAAC,OAAS,uBAAuB,WAAa,2BAA2B,iBAAmB,mC,mBCA7GD,EAAOC,QAAU,CAAC,YAAc,iCAAiC,MAAQ,2BAA2B,iBAAmB,wC,gCCDxG,QAA0B,uC,6GCE5BzH,EAAU,SAACmI,EAASC,EAAMC,GAAhB,OAAyB,YAA8B,IAA5BC,EAA2B,EAA3BA,MAAOC,EAAoB,EAApBA,KAAS9J,EAAW,gCACnE+J,EAAWD,EAAKE,SAAWF,EAAKT,MACtC,OACI,sBAAKpJ,UAAS,UAAKC,IAAE+J,YAAP,YAAsBF,EAAW7J,IAAEmJ,MAAQ,IAAzD,UACI,8BACI,cAACK,EAAD,uCAAaG,GAAW7J,GAAxB,IAA+B2J,KAAMA,EAAMC,KAAMA,OAEpDG,GAAY,+BAAOD,EAAKT,c,6SCN/Ba,EAAW,mBACXC,EAAmB,2BACnBC,EAAqB,6BACrBC,EAAc,sBACdC,EAAqB,6BACrBrC,EAAiB,yBAGnBtF,EAAkB,CAClBkC,YAAa,CACT,CACIL,SAAU,SACVQ,GAAI,EACJjD,KAAM,SACN0C,OAAQ,qBACJ/D,IAAI,yGACRtB,OAAQ,YACRmL,QAAS,SACTC,KAAM,UAEV,CACIhG,SAAU,OACVQ,GAAI,EACJjD,KAAM,OACN0C,OAAQ,qBACJ/D,IAAI,sHACRtB,OAAQ,UACRmL,QAAS,SACTC,KAAM,UAEV,CACIhG,SAAU,QACVQ,GAAI,EACJjD,KAAM,QACN0C,OAAQ,qBACJ/D,IAAI,4GACRtB,OAAQ,kBACRmL,QAAS,SACTC,KAAM,UAEV,CACIhG,SAAU,OACVQ,GAAI,EACJjD,KAAM,OACN0C,OAAQ,qBAAK/D,IAAI,kEACjBtB,OAAQ,aACRmL,QAAS,SACTC,KAAM,UAEV,CACIhG,SAAU,YACVQ,GAAI,EACJjD,KAAM,YACN0C,OAAQ,qBAAK/D,IAAI,4EACjBtB,OAAQ,eACRmL,QAAS,SACTC,KAAM,UAEV,CACIhG,SAAU,QACVQ,GAAI,EACJjD,KAAM,QACN0C,OAAQ,qBAAK/D,IAAI,uEACjBtB,OAAQ,aACRmL,QAAS,SACTC,KAAM,WAGdC,UAAW,CACP,CAACzF,GAAI,EAAG2D,QAAS,kHAAyB+B,MAAO,GACjD,CAAC1F,GAAI,EAAG2D,QAAS,gIAA6B+B,MAAO,KAEzDC,YAAa,KACbvL,OAAQ,GACRgD,aAAa,EACbE,aAAc,IA8CLsI,EAAU,SAACC,GAAD,MAAe,CAACjK,KAAMsJ,EAAUW,aAM1CC,EAAmB,SAACC,GAAD,MAAoB,CAACnK,KAAMwJ,EAAoBW,kBAElEC,EAAmB,SAACvC,GAAD,MAAa,CAAC7H,KAAM0J,EAAoB7B,WAI3DzJ,EAAa,SAACb,GAAD,8CAAY,WAAOoK,GAAP,eAAA1G,EAAA,sEACjB9C,IAAWC,WAAWb,GADL,OAC9BF,EAD8B,OAElCsK,EAV4C,CAAC3H,KAAMuJ,EAAkBQ,YAU7C1M,IAFU,2CAAZ,uDAKbgB,EAAmB,SAACd,GAAD,8CAAY,WAAOoK,GAAP,eAAA1G,EAAA,sEACnB9C,IAAWE,iBAAiBd,GADT,OACpCH,EADoC,OAExCuK,EAASuC,EAAiB9M,IAFc,2CAAZ,uDAKnBmB,EAAsB,SAACC,GAAD,8CAAY,WAAOmJ,GAAP,SAAA1G,EAAA,sEACtB9C,IAAWI,oBAAoBC,GADT,OAEV,IAFU,OAE9BnB,KAAKuK,YACdD,EAASuC,EAAiB1L,IAHa,2CAAZ,uDAOtBE,EAAY,SAACmJ,GAAD,8CAAY,WAAOF,GAAP,eAAA1G,EAAA,sEACZ9C,IAAWO,UAAUmJ,GADT,OAEA,KAD7BzK,EAD6B,QAEpBC,KAAKuK,aACdD,EAASyC,EAAiBhN,EAASC,KAAKA,KAAKwK,SAC7CF,EAAS/J,gBAJoB,2CAAZ,uDAQZmB,EAAc,SAACC,GAAD,8CAAa,WAAO2I,EAAU0C,GAAjB,iBAAApJ,EAAA,6DAC9B1D,EAAS8M,IAAW5J,KAAKnC,OADK,SAEfH,IAAWY,YAAYC,GAFR,UAGH,KAD7B5B,EAFgC,QAGvBC,KAAKuK,WAHkB,gBAIhCD,EAASvJ,EAAWb,IAJY,8BAMhCoK,GAjCqBnG,GAiCC,EAjCYE,EAiCNtE,EAASC,KAAK2K,SAAS,GAjCC,CAAChI,KAAMqH,EAAgB7F,cAAaE,kBA2BxD,kBAOzB4I,QAAQC,OAAOnN,EAASC,KAAK2K,SAAS,KAPb,kCA3BZ,IAACxG,EAAaE,IA2BF,OAAb,yDAWZa,IA3FQ,WAAsC,IAArC/B,EAAoC,uDAA5BuB,EAAiBI,EAAW,uCACxD,OAAQA,EAAOnC,MACX,KAAKsJ,EACD,IAAIkB,EAAU,CACVpG,GAAI5D,EAAMqJ,UAAUrJ,EAAMqJ,UAAU5B,OAAS,GAAG7D,GAAK,EACrD2D,QAAS5F,EAAO8H,SAChBH,MAAO,GAEX,OAAO,2BACAtJ,GADP,IAEIqJ,UAAU,GAAD,mBAAMrJ,EAAMqJ,WAAZ,CAAuBW,MAExC,KAAKjB,EACD,OAAO,2BACA/I,GADP,IAEIuJ,YAAa5H,EAAO4H,cAE5B,KAAKP,EACD,OAAO,2BACAhJ,GADP,IAEIhC,OAAQ2D,EAAOgI,gBAEvB,KAAKV,EACD,OAAO,2BACAjJ,GADP,IAEIqJ,UAAW,YAAIrJ,EAAMqJ,WAAWY,QAAO,SAACC,GAAD,OAAOA,EAAEtG,KAAOjC,EAAOwI,YAElE,KAAKjB,EACD,OAAO,2BACJlJ,GADH,IAEAuJ,YAAY,2BAAKvJ,EAAMuJ,aAAZ,IAAyBlC,OAAQ1F,EAAO0F,WAE3D,KAAKR,EACD,OAAO,2BACA7G,GADP,IAEIgB,YAAaW,EAAOX,YACpBE,aAAcS,EAAOT,eAE7B,QACI,OAAOlB,K,gCCxHJ,UAA0B,sC,OCQ1BmG,IANG,SAACvH,GACf,OACI,qBAAKU,IAAK8K,M,qFCJZC,EAAe,uBAEjB9I,EAAkB,CAClB+I,YAAa,CACT,CAAC1G,GAAI,EAAG2G,YAAa,MACrB,CAAC3G,GAAI,EAAG2G,YAAa,OACrB,CAAC3G,GAAI,EAAG2G,YAAa,SAqBhBC,EAAc,SAACC,GAAD,MAAkB,CAACjL,KAAM6K,EAAcI,gBAEnDxI,IAnBQ,WAAsC,IAArCjC,EAAoC,uDAA5BuB,EAAiBI,EAAW,uCACxD,OAAQA,EAAOnC,MACX,KAAK6K,EACD,IAAIK,EAAa,CACb9G,GAAI5D,EAAMsK,YAAYtK,EAAMsK,YAAY7C,OAAS,GAAG7D,GAAK,EACzD2G,YAAa5I,EAAO8I,aAExB,OAAO,2BACAzK,GADP,IAEIsK,YAAY,GAAD,mBAAMtK,EAAMsK,aAAZ,CAAyBI,MAG5C,QACI,OAAO1K,K,0NCrBb2K,EAAS,eACTC,EAAW,iBACXC,EAAY,kBACZC,EAAmB,yBACnBC,EAAwB,8BACxBC,EAAqB,2BACrBC,EAA+B,qCAEjC1J,EAAkB,CAClB2J,MAAO,GACPC,WAAY,EACZ1O,SAAU,EACVD,YAAa,EACb0K,YAAY,EACZkE,kBAAmB,IA6DVC,EAAgB,SAACvN,GAAD,MAAa,CAAC0B,KAAMmL,EAAQ7M,WAE5CwN,EAAkB,SAACxN,GAAD,MAAa,CAAC0B,KAAMoL,EAAU9M,WAIhDyN,EAAiB,SAAC/O,GAAD,MAAkB,CAACgD,KAAMsL,EAAkBtO,gBAI5DgP,EAAmB,SAACtE,GAAD,MAAiB,CAAC1H,KAAMwL,EAAoB9D,eAE/DuE,EAA4B,SAACvE,EAAYpJ,GAAb,MAAyB,CAC9D0B,KAAMyL,EACN/D,aACApJ,WAGS4N,EAAe,SAAClP,EAAaC,GAAd,8CAA2B,WAAO0K,GAAP,eAAA1G,EAAA,6DACnD0G,EAASqE,GAAiB,IAC1BrE,EAASoE,EAAe/O,IAF2B,SAGlCF,IAASC,SAASC,EAAaC,GAHG,OAG/CI,EAH+C,OAInDsK,EAASqE,GAAiB,IAC1BrE,GAnBqB+D,EAmBHrO,EAAK8O,MAnBS,CAACnM,KAAMqL,EAAWK,WAoBlD/D,GAhB+BgE,EAgBHtO,EAAKsO,WAhBc,CAAC3L,KAAMuL,EAAuBI,gBAU1B,iCAVrB,IAACA,EAJVD,IAc8B,OAA3B,uDAUfU,EAAW,SAAC9N,GAAD,8CAAY,WAAOqJ,GAAP,SAAA1G,EAAA,6DAChC0G,EAASsE,GAA0B,EAAM3N,IADT,SAEfxB,IAASQ,aAAagB,GAFP,OAGR,IAHQ,OAGvBsJ,YACLD,EAASmE,EAAgBxN,IAE7BqJ,EAASsE,GAA0B,EAAO3N,IANV,2CAAZ,uDASX+N,EAAS,SAAC/N,GAAD,8CAAY,WAAOqJ,GAAP,SAAA1G,EAAA,6DAC9B0G,EAASsE,GAA0B,EAAM3N,IADX,SAEbxB,IAASW,WAAWa,GAFP,OAGN,IAHM,OAGrBsJ,YACLD,EAASkE,EAAcvN,IAE3BqJ,EAASsE,GAA0B,EAAO3N,IANZ,2CAAZ,uDASPqE,IAvGM,WAAsC,IAArCnC,EAAoC,uDAA5BuB,EAAiBI,EAAW,uCAEtD,OAAQA,EAAOnC,MACX,KAAKmL,EACD,OAAO,2BACA3K,GADP,IAEIkL,MAAOlL,EAAMkL,MAAMxH,KAAI,SAAAoI,GACnB,OAAIA,EAAElI,KAAOjC,EAAO7D,OACT,2BAAIgO,GAAX,IAAcC,UAAU,IAErBD,OAGnB,KAAKlB,EAED,OAAO,2BACA5K,GADP,IAEIkL,MAAOlL,EAAMkL,MAAMxH,KAAI,SAAAoI,GACnB,OAAIA,EAAElI,KAAOjC,EAAO7D,OACT,2BAAIgO,GAAX,IAAcC,UAAU,IAErBD,OAGnB,KAAKjB,EACD,OAAO,2BACA7K,GADP,IAEIkL,MAAM,YAAKvJ,EAAOuJ,SAE1B,KAAKJ,EACD,OAAO,2BACA9K,GADP,IAEIxD,YAAamF,EAAOnF,cAE5B,KAAKuO,EACD,OAAO,2BACA/K,GADP,IAEImL,WAAYxJ,EAAOwJ,aAE3B,KAAKH,EACD,OAAO,2BACAhL,GADP,IAEIkH,WAAYvF,EAAOuF,aAE3B,KAAK+D,EACD,OAAO,2BACAjL,GADP,IAEIoL,kBAAmBzJ,EAAOuF,WAAP,sBACTlH,EAAMoL,mBADG,CACgBzJ,EAAO7D,SACpCkC,EAAMoL,kBAAkBnB,QAAO,SAAArG,GAAE,OAAIA,IAAOjC,EAAO7D,YAEjE,QACI,OAAOkC,K","file":"static/js/main.3527565c.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    headers: {\r\n        'API-KEY': '5764fe15-26d5-4a4f-ab4c-5db09136fe0a'\r\n    },\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/'\r\n})\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage, pageSize) {\r\n        return instance\r\n            .get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => response.data)\r\n    },\r\n\r\n    unfollowUser(userId) {\r\n        return instance\r\n            .delete(`follow/${userId}`)\r\n            .then(response => response.data)\r\n    },\r\n    followUser(userId) {\r\n        return instance\r\n            .post(`follow/${userId}`)\r\n            .then(response => response.data)\r\n    }\r\n\r\n}\r\n\r\nexport const authAPI = {\r\n    authMe() {\r\n        return instance\r\n            .get(`auth/me`)\r\n\r\n    },\r\n    authLogin(email, password, rememberMe, captcha = '') {\r\n        return instance\r\n            .post('auth/login', {email, password, rememberMe, captcha})\r\n    },\r\n    authLogout() {\r\n        return instance\r\n            .delete('auth/login')\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance\r\n            .get(`profile/${userId}`)\r\n            .then(response => response.data)\r\n    },\r\n    getProfileStatus(userID) {\r\n        return instance\r\n            .get(`profile/status/${userID}`)\r\n            .then(response => response.data)\r\n    },\r\n    updateProfileStatus(status) {\r\n        return instance\r\n            .put('profile/status', {status: status})\r\n\r\n    },\r\n    savePhoto(photoFile) {\r\n        const formData = new FormData()\r\n        formData.append('image', photoFile)\r\n        return instance\r\n            .put('profile/photo', formData, {\r\n                headers: {\r\n                    'Content-Type': 'multipart/form-data'\r\n                }\r\n            })\r\n    },\r\n    saveProfile(profile) {\r\n        return instance\r\n            .put('profile', profile)\r\n    }\r\n}\r\n\r\nexport const securityAPI = {\r\n    getCaptcha() {\r\n        return instance\r\n            .get(`/security/get-captcha-url`)\r\n    }\r\n}","import s from './Header.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport userPhoto from '../../assets/images/userPhoto.png'\r\nimport Button from \"@material-ui/core/Button\";\r\nimport * as React from \"react\";\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={s.header}>\r\n            <div className={s.loginBlock}>\r\n                <span>\r\n                    {props.isAuth\r\n                        ? <div className={s.existingUsername}>{props.login}</div>\r\n                        : <NavLink to='/login'>Login</NavLink>}\r\n                </span>\r\n                <span>\r\n                    {(props.isAuth)\r\n                        ? props.userPhoto !== null ? <div><img src={props.userPhoto}/></div> : <img src={userPhoto}/>\r\n                        : null}\r\n                </span>\r\n                <span>\r\n                    {props.isAuth\r\n                        ? <div>\r\n                            <Button type=\"submit\"\r\n                                    onClick={props.authLogout}\r\n                                    variant=\"contained\"\r\n                                    color=\"primary\">Logout</Button>\r\n                        </div>\r\n                        : null}\r\n                </span>\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import * as React from \"react\";\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {authLogout, authMe} from \"../../Redux/auth-reducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        login: state.auth.login,\r\n        userPhoto: state.auth.userPhoto,\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {authLogout, authMe})(HeaderContainer)","import {Form, Field} from 'react-final-form'\r\nimport {connect} from \"react-redux\";\r\nimport {authLogin} from \"../../Redux/auth-reducer\";\r\nimport {element} from \"../Common/Form control/FormControl\";\r\nimport {required} from \"../../utils/validators\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport s from './Login.module.css'\r\nimport * as React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nconst Input = element('input')\r\n\r\nconst LoginForm = (props) => {\r\n\r\n    const onSubmit = (formData) => {\r\n        props.authLogin(formData.email, formData.password, formData.rememberMe, formData.captcha)\r\n    }\r\n\r\n    return (\r\n        <Form onSubmit={onSubmit}\r\n              render={({handleSubmit}) => (\r\n                  <form onSubmit={async event => {\r\n                      await handleSubmit(event)\r\n                  }}>\r\n                      <div>\r\n                          <Field placeholder={'Email'} name={'email'} component={Input}\r\n                                 validate={required}/>\r\n                      </div>\r\n                      <div>\r\n                          <Field placeholder={'Password'} name={'password'} component={Input} type={'password'}\r\n                                 validate={required}/>\r\n                      </div>\r\n                      <div>\r\n                          <Field type={'checkbox'} name={'rememberMe'} component={Input}/> remember me\r\n                      </div>\r\n                      <div className={s.captcha}>\r\n                          {props.captchaUrl && <img src={props.captchaUrl}/>}\r\n                      </div>\r\n                      <div>\r\n                          {props.captchaUrl && <Field placeholder={'Enter captcha'} name={'captcha'} component={Input}\r\n                                                      validate={required}/>}\r\n                      </div>\r\n                      <div>\r\n                          {props.isErrorForm && <div className={s.formSummaryError}>{props.errorMessage}</div>}\r\n                      </div>\r\n                      <div className={s.button}>\r\n                          <Button type=\"submit\"\r\n                                  disabled={props.loggingInProgress}\r\n                                  onClick={handleSubmit}\r\n                                  variant=\"contained\"\r\n                                  color=\"primary\">LOGIN</Button>\r\n                      </div>\r\n                  </form>\r\n              )}/>\r\n    )\r\n}\r\n\r\nconst Login = (props) => {\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n\r\n    return (\r\n        <div className={s.loginBlock}>\r\n            <h1>Login</h1>\r\n            <LoginForm authLogin={props.authLogin} captchaUrl={props.captchaUrl} isErrorForm={props.isErrorForm}\r\n                       errorMessage={props.errorMessage} loggingInProgress={props.loggingInProgress}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        captchaUrl: state.auth.captchaUrl,\r\n        isErrorForm: state.auth.isErrorForm,\r\n        errorMessage: state.auth.errorMessage,\r\n        loggingInProgress: state.auth.loggingInProgress\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {authLogin})(Login)","import {authMe} from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'app/INITIALIZED_SUCCESS'\r\n\r\n\r\nlet initiationState = {\r\n    initialized: false,\r\n}\r\n\r\n\r\nconst appReducer = (state = initiationState, action) => {\r\n\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true,\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n\r\n}\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS})\r\n\r\nexport const initialized = () => async (dispatch) => {\r\n    await dispatch(authMe())\r\n    dispatch(initializedSuccess)\r\n}\r\n\r\n\r\nexport default appReducer","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport usersReducer from \"./Users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    app: appReducer,\r\n})\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nwindow.__store__ = store\r\n\r\nexport default store","import * as React from \"react\";\r\n\r\nexport const withSuspense = (Component) => (props) => {\r\n    return (\r\n        <React.Suspense fallback={<div>Loading...</div>}>\r\n            <Component {...props}/>\r\n        </React.Suspense>\r\n    )\r\n}","import s from './../Friends.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Friend = (props) => {\r\n    return (\r\n        <div className={s.friends}>\r\n            <div>\r\n                <NavLink to={props.homeLink}>{props.avatar}</NavLink>\r\n            </div>\r\n            <div className={s.friendsName}>\r\n                <NavLink to={props.homeLink}>{props.name}</NavLink>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Friend","import s from './Friends.module.css'\r\nimport Friend from './Friend/Friend'\r\n\r\nconst Friends = (props) => {\r\n    let friendsElement = props.profileData\r\n        .map(friend => <Friend avatar={friend.avatar} name={friend.name} homeLink={friend.homeLink} key={friend.id}/>)\r\n\r\n    return (\r\n        <div className={s.friends}>\r\n            <div className={s.friendsItem}>\r\n                {friendsElement}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Friends","import {connect} from \"react-redux\";\r\nimport Friends from \"./Friends\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        profileData: state.profilePage.profileData,\r\n    }\r\n}\r\n\r\nexport default connect (mapStateToProps)(Friends)","import s from './../BlockFriends.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst BlockFriend = (props) => {\r\n    return (\r\n        <div className={s.friends}>\r\n            <div>\r\n                <NavLink to={props.homeLink}>{props.avatar}</NavLink>\r\n            </div>\r\n            <div className={s.friendsName}>\r\n                <NavLink to={props.homeLink}>{props.name}</NavLink>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default BlockFriend","import s from './BlockFriends.module.css'\r\nimport BlockFriend from \"./BlockFriend/BlockFriend\";\r\n\r\nconst BlockFriends = (props) => {\r\n    let friendsElement = props.profileData\r\n        .map(friend => <BlockFriend avatar={friend.avatar} name={friend.name} homeLink={friend.homeLink}\r\n                                    key={friend.id}/>)\r\n\r\n    return (\r\n        <div className={s.friends}>\r\n            <div className={s.friendsItem}>\r\n                {friendsElement}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default BlockFriends","import s from './Nav.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport BlockFriends from \"./BlockFriends/BlockFriends\";\r\n\r\nconst linkCreator = (to, linkName) => {\r\n    return (\r\n        <div className={s.item}>\r\n            <NavLink to={`/${to}`} activeClassName={s.activeLink}>{linkName}</NavLink>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Nav = (props) => {\r\n    return (\r\n        <nav className={s.nav}>\r\n            {linkCreator('profile', 'Profile')}\r\n\r\n            {linkCreator('friends', 'Friends')}\r\n\r\n            {linkCreator('dialogs', 'Messages')}\r\n\r\n            {linkCreator('users', 'Users')}\r\n\r\n            {props.isAuth &&\r\n            <div>\r\n                <div className={s.itemFriends}>\r\n                    Friends\r\n                </div>\r\n                <div>\r\n                    <BlockFriends profileData={props.profileData}/>\r\n                </div>\r\n            </div>}\r\n\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Nav","import {connect} from \"react-redux\";\r\nimport Nav from \"./Nav\";\r\n\r\nlet mapStateToProps = (state) => ({\r\n    profileData: state.profilePage.profileData,\r\n    isAuth: state.auth.isAuth,\r\n})\r\n\r\nexport default connect (mapStateToProps)(Nav)","export default __webpack_public_path__ + \"static/media/Telegram.d42bba1c.svg\";","export default __webpack_public_path__ + \"static/media/instagram.02967a62.svg\";","export default __webpack_public_path__ + \"static/media/mail.580a851b.svg\";","import s from './Footer.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport telegram from '../../assets/images/Telegram.svg'\r\nimport instagram from '../../assets/images/instagram.svg'\r\nimport mail from '../../assets/images/mail.svg'\r\n\r\nconst Footer = (props) => {\r\n    return (\r\n        <div className={s.footer}>\r\n            {props.isAuth &&\r\n            <div className={s.creator}>\r\n                <NavLink to='/profile/15537'>Sergey Karpov</NavLink>\r\n            </div>}\r\n            <div className={s.contactsCreator}>\r\n                <span className={s.telegram}>\r\n                    <a target=\"_blank\" href=\"https://t.me/sergey_karpov31\"><img src={telegram}/>  </a>\r\n                </span>\r\n                <span className={s.instagram}>\r\n                    <a target=\"_blank\" href=\"https://www.instagram.com/sergey_karpov_/\"><img src={instagram}/> </a>\r\n                </span>\r\n                <span className={s.mail}>\r\n                    <a target=\"_blank\" href=\"mailto:sergey31karpov@gmail.com?subject=Хотим взять вас на работу\"><img\r\n                        src={mail}/></a>\r\n                </span>\r\n            </div>\r\n            <div className={s.copyright}>\r\n                © 2021\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Footer","import {connect} from \"react-redux\";\r\nimport Footer from \"./Footer\";\r\n\r\nlet mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n})\r\n\r\nexport default connect (mapStateToProps)(Footer)","import { useEffect } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nfunction ScrollToTop({ history }) {\r\n    useEffect(() => {\r\n        const unlisten = history.listen(() => {\r\n            window.scrollTo(0, 0);\r\n        });\r\n        return () => {\r\n            unlisten();\r\n        }\r\n    }, []);\r\n\r\n    return (null);\r\n}\r\n\r\nexport default withRouter(ScrollToTop);","import './App.css';\r\nimport {HashRouter, Redirect, Route, Switch, withRouter} from \"react-router-dom\";\r\nimport React from \"react\";\r\nimport HeaderContainer from \"./Components/Header/HeaderContainer\";\r\nimport Login from \"./Components/Login/Login\";\r\nimport {connect, Provider} from \"react-redux\";\r\nimport {initializedSuccess} from \"./Redux/app-reducer\";\r\nimport Preloader from \"./Components/Common/Preloader/Preloader\";\r\nimport store from \"./Redux/store-redux\";\r\nimport {withSuspense} from \"./Components/hoc/withSuspense\";\r\nimport FriendsContainer from \"./Components/Friends/FriendsContainer\";\r\nimport NavContainer from \"./Components/NavBar/NavContainer\";\r\nimport {compose} from \"redux\";\r\nimport FooterContainer from \"./Components/Footer/FooterContainer\";\r\nimport ScrollToTop from \"./Components/Common/ScrollToTop\";\r\n\r\nconst ProfileContainer = React.lazy(() => import('./Components/Profile/ProfileContainer'));\r\nconst DialogsContainer = React.lazy(() => import('./Components/Dialogs/DialogsContainer'));\r\nconst UsersContainer = React.lazy(() => import('./Components/Users/UsersContainer'));\r\n\r\nclass App extends React.Component {\r\n    componentDidMount() {\r\n        this.props.initializedSuccess()\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.initialized) {\r\n            return <Preloader/>\r\n        }\r\n        return (\r\n            <div className='app-wrapper'>\r\n                <ScrollToTop />\r\n                <HeaderContainer/>\r\n                <NavContainer/>\r\n                <div className='app-wrapper-content'>\r\n                    <Switch>\r\n                        <Redirect exact from=\"/\" to=\"/profile\" />\r\n                        <Route path='/profile/:userId?' render={withSuspense(ProfileContainer)}/>\r\n                        <Route path='/friends'\r\n                               render={() => <FriendsContainer />}/>\r\n                        <Route path='/dialogs' render={withSuspense(DialogsContainer)}/>\r\n                        <Route path='/users' render={withSuspense(UsersContainer)}/>\r\n                        <Route path='/login' render={() => <Login/>}/>\r\n                        <Route path='*' render={() => <div><b>404 NOT FOUND</b></div>}/>\r\n                    </Switch>\r\n                </div>\r\n                <FooterContainer/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    initialized: state.app.initialized\r\n})\r\n\r\nconst AppContainer = compose(\r\n    withRouter,\r\n    connect(mapStateToProps, {initializedSuccess})\r\n)(App)\r\n\r\nconst MainApp = (props) => {\r\n    return <HashRouter>\r\n        <Provider store={store}>\r\n            <AppContainer {...props}/>\r\n        </Provider>\r\n    </HashRouter>\r\n}\r\n\r\nexport default MainApp\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport MainApp from \"./App\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <MainApp/>\n    </React.StrictMode>,\n    document.getElementById('root')\n)\n\n\n\n","import {authAPI, profileAPI, securityAPI} from \"../Components/api/api\";\r\n\r\nconst SET_USER_DATA = 'auth/SET_USER_DATA'\r\nconst SET_USER_PHOTO = 'auth/SET_USER_PHOTO'\r\nconst SET_CAPTCHA_URL = 'auth/SET_CAPTCHA_URL'\r\nconst SET_ERROR_FORM = 'auth/SET_ERROR_FORM'\r\nconst TOGGLE_IS_LOGGING_PROGRESS = 'auth/TOGGLE_IS_FOLLOWING_PROGRESS'\r\n\r\n\r\nlet initiationState = {\r\n    userID: null,\r\n    login: null,\r\n    email: null,\r\n    isAuth: false,\r\n    userPhoto: null,\r\n    isUserPhoto: false,\r\n    captchaUrl: '',\r\n    isErrorForm: false,\r\n    errorMessage: '',\r\n    loggingInProgress: false,\r\n}\r\n\r\nconst authReducer = (state = initiationState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.data,\r\n            }\r\n        case SET_USER_PHOTO:\r\n            return {\r\n                ...state,\r\n                userPhoto: action.userPhoto,\r\n            }\r\n        case SET_CAPTCHA_URL:\r\n            return {\r\n                ...state,\r\n                captchaUrl: action.captchaUrl,\r\n            }\r\n        case SET_ERROR_FORM:\r\n            return {\r\n                ...state,\r\n                isErrorForm: action.isErrorForm,\r\n                errorMessage: action.errorMessage,\r\n            }\r\n            case TOGGLE_IS_LOGGING_PROGRESS:\r\n            return {\r\n                ...state,\r\n                loggingInProgress: action.isFetching,\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n\r\n}\r\n\r\nexport const setUserData = (userID, email, login, isAuth) => ({\r\n    type: SET_USER_DATA,\r\n    data: {userID, login, email, isAuth}\r\n})\r\n\r\nexport const setUserPhoto = (userPhoto) => ({type: SET_USER_PHOTO, userPhoto})\r\n\r\nexport const setCaptcha = (captchaUrl) => ({type: SET_CAPTCHA_URL, captchaUrl})\r\n\r\nexport const setErrorForm = (isErrorForm, errorMessage) => ({type: SET_ERROR_FORM, isErrorForm, errorMessage})\r\n\r\nexport const toggleIsLoggingProgress = (isFetching) => ({type: TOGGLE_IS_LOGGING_PROGRESS, isFetching})\r\n\r\nexport default authReducer\r\n\r\nexport const authMe = () => async (dispatch) => {\r\n    let response = await authAPI.authMe()\r\n    if (response.data.resultCode === 0) {\r\n        let {id, login, email} = response.data.data\r\n        dispatch(setUserData(id, email, login, true))\r\n        let data = await profileAPI.getProfile(id)\r\n        dispatch(setUserPhoto(data.photos.small))\r\n    }\r\n}\r\n\r\nexport const authLogin = (email, password, rememberMe, captcha) => async (dispatch) => {\r\n    dispatch(toggleIsLoggingProgress(true))\r\n    let response = await authAPI.authLogin(email, password, rememberMe, captcha)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(authMe())\r\n    } else {\r\n        if (response.data.resultCode === 10) {\r\n            dispatch(getCaptcha())\r\n        } else {\r\n            let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error'\r\n            dispatch(setErrorForm(true, message))\r\n        }\r\n    }\r\n    dispatch(toggleIsLoggingProgress(false))\r\n}\r\n\r\nexport const authLogout = () => async (dispatch) => {\r\n    let response = await authAPI.authLogout()\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setUserData(null, null, null, false))\r\n    }\r\n}\r\n\r\nexport const getCaptcha = () => async (dispatch) => {\r\n    let response = await securityAPI.getCaptcha()\r\n    dispatch(setCaptcha(response.data.url))\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"Footer_footer__2hmzJ\",\"creator\":\"Footer_creator__aehN1\",\"contactsCreator\":\"Footer_contactsCreator__17XSe\",\"telegram\":\"Footer_telegram__1nbej\",\"instagram\":\"Footer_instagram__3KKPT\",\"mail\":\"Footer_mail__3Lpen\",\"copyright\":\"Footer_copyright__3EflT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friends\":\"Friends_friends__3QVZh\",\"friendsItem\":\"Friends_friendsItem__tPREw\",\"friendsName\":\"Friends_friendsName__1qBsl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friends\":\"BlockFriends_friends__3dTJR\",\"friendsItem\":\"BlockFriends_friendsItem__R1jYe\",\"friendsName\":\"BlockFriends_friendsName__1T8_M\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"captcha\":\"Login_captcha__jic8l\",\"loginBlock\":\"Login_loginBlock__6kqEC\",\"button\":\"Login_button__p3zCJ\",\"formSummaryError\":\"Login_formSummaryError__3U_jx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__3Cxw7\",\"item\":\"Nav_item__1KR2l\",\"activeLink\":\"Nav_activeLink__2a-W4\",\"itemFriends\":\"Nav_itemFriends__1pv2t\"};","export const composeValidators = (...validators) => value =>\r\n    validators.reduce((error, validator) => error || validator(value), undefined)\r\n\r\nexport const required = (value) => {\r\n    if (value || value === '') return undefined\r\n    return 'Field is required'\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`\r\n    return undefined\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__x6-qq\",\"loginBlock\":\"Header_loginBlock__3ImxS\",\"existingUsername\":\"Header_existingUsername__39sZE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControl_formControl__2KHMY\",\"error\":\"FormControl_error__3WPTN\",\"formSummaryError\":\"FormControl_formSummaryError__Ly-hK\"};","export default __webpack_public_path__ + \"static/media/userPhoto.92d80a7e.png\";","import s from './FormControl.module.css'\r\n\r\nexport const element = (Element, cols, rows) => ({input, meta, ...props}) => {\r\n    const hasError = meta.touched && meta.error\r\n    return (\r\n        <div className={`${s.formControl} ${hasError ? s.error : ''}`}>\r\n            <div>\r\n                <Element {...input} {...props} cols={cols} rows={rows}/>\r\n            </div>\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\n","import {profileAPI} from \"../Components/api/api\";\r\nimport {authMe} from \"./auth-reducer\";\r\n\r\nconst ADD_POST = 'profile/ADD-POST';\r\nconst SET_USER_PROFILE = 'profile/SET_USER_PROFILE'\r\nconst SET_PROFILE_STATUS = 'profile/SET_PROFILE_STATUS'\r\nconst DELETE_POST = 'profile/DELETE_POST'\r\nconst SAVE_PHOTO_SUCCESS = 'profile/SAVE_PHOTO_SUCCESS'\r\nconst SET_ERROR_FORM = 'profile/SET_ERROR_FORM'\r\n\r\n\r\nlet initiationState = {\r\n    profileData: [\r\n        {\r\n            homeLink: 'sergio',\r\n            id: 1,\r\n            name: 'Sergio',\r\n            avatar: <img\r\n                src='https://yt3.ggpht.com/a/AATXAJxetozsFIxpK6XvnUDpCVKIYn7hxLiM2DVFWixqPA=s900-c-k-c0xffffffff-no-rj-mo'/>,\r\n            status: 'Life coll',\r\n            country: 'Russia',\r\n            city: 'Samara'\r\n        },\r\n        {\r\n            homeLink: 'alex',\r\n            id: 2,\r\n            name: 'Alex',\r\n            avatar: <img\r\n                src='https://avatars.yandex.net/get-music-user-playlist/51766/595160370.1000.25677/m1000x1000?1589812186474&webp=false'/>,\r\n            status: '3D coll',\r\n            country: 'Russia',\r\n            city: 'Samara'\r\n        },\r\n        {\r\n            homeLink: 'nasty',\r\n            id: 3,\r\n            name: 'Nasty',\r\n            avatar: <img\r\n                src='https://4.bp.blogspot.com/-aau51YHhLqI/UDFgnKjncGI/AAAAAAAAAH8/8WKFByNzopI/s1600/INFINITO+DESPRECIO.png'/>,\r\n            status: 'Psychology coll',\r\n            country: 'Russia',\r\n            city: 'Samara'\r\n        },\r\n        {\r\n            homeLink: 'mike',\r\n            id: 4,\r\n            name: 'Mike',\r\n            avatar: <img src='https://ezhbaev.ru/faces/img/large/surprised-rage-clean-l.png'/>,\r\n            status: 'Money coll',\r\n            country: 'Russia',\r\n            city: 'Samara'\r\n        },\r\n        {\r\n            homeLink: 'svetachka',\r\n            id: 5,\r\n            name: 'Svetachka',\r\n            avatar: <img src='https://forum.exbo.ru/assets/files/2019-11-10/1573417254-129155-14d.png'/>,\r\n            status: 'Pussies coll',\r\n            country: 'Russia',\r\n            city: 'Samara'\r\n        },\r\n        {\r\n            homeLink: 'losha',\r\n            id: 6,\r\n            name: 'Losha',\r\n            avatar: <img src='https://i03.fotocdn.net/s102/9d0b74786a63f5d0/user_l/222810920.jpg'/>,\r\n            status: 'Drugs coll',\r\n            country: 'Russia',\r\n            city: 'Samara'\r\n        },\r\n    ],\r\n    postsData: [\r\n        {id: 1, message: 'Привет, классные мемы', likes: 3},\r\n        {id: 2, message: 'Твои мемы дают силы жить!', likes: 69}\r\n    ],\r\n    userProfile: null,\r\n    status: '',\r\n    isErrorForm: false,\r\n    errorMessage: '',\r\n}\r\n\r\nconst profileReducer = (state = initiationState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            let newPost = {\r\n                id: state.postsData[state.postsData.length - 1].id + 1,\r\n                message: action.bodyPost,\r\n                likes: 0,\r\n            }\r\n            return {\r\n                ...state,\r\n                postsData: [...state.postsData, newPost]\r\n            }\r\n        case SET_USER_PROFILE:\r\n            return {\r\n                ...state,\r\n                userProfile: action.userProfile\r\n            }\r\n        case SET_PROFILE_STATUS:\r\n            return {\r\n                ...state,\r\n                status: action.profileStatus\r\n            }\r\n        case DELETE_POST:\r\n            return {\r\n                ...state,\r\n                postsData: [...state.postsData].filter((p) => p.id !== action.idPost)\r\n            }\r\n            case SAVE_PHOTO_SUCCESS:\r\n                return {\r\n                ...state,\r\n                userProfile: {...state.userProfile, photos: action.photos}\r\n            }\r\n        case SET_ERROR_FORM:\r\n            return {\r\n                ...state,\r\n                isErrorForm: action.isErrorForm,\r\n                errorMessage: action.errorMessage,\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const addPost = (bodyPost) => ({type: ADD_POST, bodyPost})\r\n\r\nexport const deletePost = (idPost) => ({type: DELETE_POST, idPost})\r\n\r\nexport const setUserProfile = (userProfile) => ({type: SET_USER_PROFILE, userProfile})\r\n\r\nexport const setProfileStatus = (profileStatus) => ({type: SET_PROFILE_STATUS, profileStatus})\r\n\r\nexport const savePhotoSuccess = (photos) => ({type: SAVE_PHOTO_SUCCESS, photos})\r\n\r\nexport const setErrorForm = (isErrorForm, errorMessage) => ({type: SET_ERROR_FORM, isErrorForm, errorMessage})\r\n\r\nexport const getProfile = (userId) => async (dispatch) => {\r\n    let data = await profileAPI.getProfile(userId)\r\n    dispatch(setUserProfile(data))\r\n}\r\n\r\nexport const getProfileStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getProfileStatus(userId)\r\n    dispatch(setProfileStatus(response))\r\n}\r\n\r\nexport const updateProfileStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateProfileStatus(status)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setProfileStatus(status))\r\n    }\r\n}\r\n\r\nexport const savePhoto = (photos) => async (dispatch) => {\r\n    let response = await profileAPI.savePhoto(photos)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(savePhotoSuccess(response.data.data.photos))\r\n        dispatch(authMe())\r\n    }\r\n}\r\n\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n    const userId = getState().auth.userID\r\n    let response = await profileAPI.saveProfile(profile)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getProfile(userId))\r\n    } else {\r\n        dispatch(setErrorForm(true, response.data.messages[0]))\r\n        return Promise.reject(response.data.messages[0])\r\n    }\r\n}\r\n\r\nexport default profileReducer","export default __webpack_public_path__ + \"static/media/preloader.eddc5ce2.svg\";","import preLoader from \"../../../assets/images/preloader.svg\";\r\n\r\nconst Preloader = (props) => {\r\n    return (\r\n        <img src={preLoader}/>\r\n    )\r\n}\r\n\r\nexport default Preloader","const SEND_MESSAGE = 'dialogs/SEND-MESSAGE';\r\n\r\nlet initiationState = {\r\n    messageData: [\r\n        {id: 1, textMessage: 'Hi'},\r\n        {id: 2, textMessage: 'KEK'},\r\n        {id: 3, textMessage: 'LOL'},\r\n    ],\r\n}\r\n\r\nconst dialogsReducer = (state = initiationState, action) => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:{\r\n            let newMessage = {\r\n                id: state.messageData[state.messageData.length - 1].id + 1,\r\n                textMessage: action.messageBody\r\n            }\r\n            return  {\r\n                ...state,\r\n                messageData: [...state.messageData, newMessage]\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const sendMessage = (messageBody) => ({type: SEND_MESSAGE, messageBody})\r\n\r\nexport default dialogsReducer","import {usersAPI} from \"../Components/api/api\";\r\n\r\nconst FOLLOW = 'users/FOLLOW'\r\nconst UNFOLLOW = 'users/UNFOLLOW'\r\nconst SET_USERS = 'users/SET_USERS'\r\nconst SET_CURRENT_PAGE = 'users/SET_CURRENT_PAGE'\r\nconst SET_TOTAL_USERS_COUNT = 'users/SET_TOTAL_USERS_COUNT'\r\nconst TOGGLE_IS_FETCHING = 'users/TOGGLE_IS_FETCHING'\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'users/TOGGLE_IS_FOLLOWING_PROGRESS'\r\n\r\nlet initiationState = {\r\n    users: [],\r\n    totalCount: 0,\r\n    pageSize: 5,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingProgress: [],\r\n}\r\n\r\n\r\nconst usersReducer = (state = initiationState, action) => {\r\n\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userID) {\r\n                        return {...u, followed: true}\r\n                    }\r\n                    return u\r\n                })\r\n            }\r\n        case UNFOLLOW:\r\n            debugger\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userID) {\r\n                        return {...u, followed: false}\r\n                    }\r\n                    return u\r\n                })\r\n            }\r\n        case SET_USERS:\r\n            return {\r\n                ...state,\r\n                users: [...action.users]\r\n            }\r\n        case SET_CURRENT_PAGE:\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage\r\n            }\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return {\r\n                ...state,\r\n                totalCount: action.totalCount\r\n            }\r\n        case TOGGLE_IS_FETCHING:\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followingProgress: action.isFetching\r\n                    ? [...state.followingProgress, action.userID]\r\n                    : state.followingProgress.filter(id => id !== action.userID)\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n\r\n}\r\n\r\nexport const followSuccess = (userID) => ({type: FOLLOW, userID})\r\n\r\nexport const unFollowSuccess = (userID) => ({type: UNFOLLOW, userID})\r\n\r\nexport const setUsers = (users) => ({type: SET_USERS, users})\r\n\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage})\r\n\r\nexport const setTotalUsersCount = (totalCount) => ({type: SET_TOTAL_USERS_COUNT, totalCount})\r\n\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching})\r\n\r\nexport const toggleIsFollowingProgress = (isFetching, userID) => ({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    isFetching,\r\n    userID\r\n})\r\n\r\nexport const requestUsers = (currentPage, pageSize) => async (dispatch) => {\r\n    dispatch(toggleIsFetching(true))\r\n    dispatch(setCurrentPage(currentPage))\r\n    let data = await usersAPI.getUsers(currentPage, pageSize)\r\n    dispatch(toggleIsFetching(false))\r\n    dispatch(setUsers(data.items))\r\n    dispatch(setTotalUsersCount(data.totalCount))\r\n}\r\n\r\n\r\nexport const unfollow = (userID) => async (dispatch) => {\r\n    dispatch(toggleIsFollowingProgress(true, userID))\r\n    let data = await usersAPI.unfollowUser(userID)\r\n    if (data.resultCode === 0) {\r\n        dispatch(unFollowSuccess(userID))\r\n    }\r\n    dispatch(toggleIsFollowingProgress(false, userID))\r\n}\r\n\r\nexport const follow = (userID) => async (dispatch) => {\r\n    dispatch(toggleIsFollowingProgress(true, userID))\r\n    let data = await usersAPI.followUser(userID)\r\n    if (data.resultCode === 0) {\r\n        dispatch(followSuccess(userID))\r\n    }\r\n    dispatch(toggleIsFollowingProgress(false, userID))\r\n}\r\n\r\nexport default usersReducer"],"sourceRoot":""}