{"version":3,"sources":["Components/hoc/withAuthRedirect.js","../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","Components/Profile/ProfileInfo/ProfileInfo.module.css","Components/Profile/MyPosts/MyPosts.module.css","Components/Profile/MyPosts/Post/Post.module.css","Components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","Components/Profile/ProfileInfo/ProfileInfo.jsx","Components/Profile/MyPosts/Post/Post.js","Components/Profile/MyPosts/MyPosts.js","Components/Profile/MyPosts/MyPostsContainer.js","Components/Profile/Profile.js","Components/Profile/ProfileContainer.js"],"names":["mapStateToPropsRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","module","exports","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","onChange","e","currentTarget","autoFocus","onBlur","updateProfileStatus","ProfileInfo","userProfile","className","s","profilePhoto","fullName","src","photos","large","userPhoto","aboutMe","contacts","facebook","website","vk","twitter","instagram","youtube","github","mainLink","lookingForAJob","lookingForAJobDescription","Preloader","Post","item","message","likes","maxLength10","maxLengthCreator","Textarea","element","MyPostsReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","placeholder","name","component","validate","required","MyPosts","console","log","postEl","posts","reverse","map","p","id","descriptionBlock","formData","addPost","post","MyPostsContainer","profilePage","postsData","Profile","ProfileContainer","userId","match","params","authuserID","getProfile","getProfileStatus","compose","userID","withRouter"],"mappings":"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","file":"static/js/3.dc6b298c.chunk.js","sourcesContent":["import {Redirect} from \"react-router-dom\";\r\nimport * as React from \"react\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsRedirect = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to='/login'/>\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n\r\n    let ConnectAuthRedirectComponent = connect(mapStateToPropsRedirect)(RedirectComponent)\r\n\r\n    return ConnectAuthRedirectComponent\r\n}","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profilePhoto\":\"ProfileInfo_profilePhoto__kc-nF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"descriptionBlock\":\"MyPosts_descriptionBlock__1eVUt\",\"posts\":\"MyPosts_posts__3MsNy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__2uxaj\"};","import React, {useState, useEffect} from \"react\";\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false)\r\n    let [status, setStatus] = useState(props.status)\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    }, [props.status])\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false)\r\n        props.updateProfileStatus(status)\r\n    }\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {!editMode &&\r\n            <div>\r\n                <span onDoubleClick={activateEditMode}>{props.status}</span>\r\n            </div>\r\n            }\r\n            {editMode &&\r\n            <div>\r\n                <input onChange={onStatusChange} autoFocus={true} onBlur={deactivateEditMode}\r\n                       value={status}/>\r\n            </div>\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nexport default ProfileStatusWithHooks","import s from './ProfileInfo.module.css'\r\nimport Preloader from \"../../Common/Preloader/Preloader\";\r\nimport * as React from \"react\";\r\nimport userPhoto from '../../../assets/images/userPhoto.png'\r\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\r\n\r\nconst ProfileInfo = (props) => {\r\n    if (!props.userProfile) {\r\n        return <Preloader/>\r\n    }\r\n    return (\r\n        <div className={s.profilePhoto}>\r\n            {props.userProfile.fullName}\r\n            <div/>\r\n            <div>\r\n                <img src={props.userProfile.photos.large != null ? props.userProfile.photos.large : userPhoto}/>\r\n            </div>\r\n            <div>\r\n                <ProfileStatusWithHooks status={props.status} updateProfileStatus={props.updateProfileStatus}/>\r\n            </div>\r\n            <div>\r\n                {props.userProfile.aboutMe === null\r\n                    ? 'About me: Еще нет'\r\n                    : `About me: ${props.userProfile.aboutMe}`}\r\n            </div>\r\n            <div>\r\n                {`My contacts: `}\r\n                <div/>\r\n                {props.userProfile.contacts.facebook === null\r\n                    ? `facebook: Еще нет`\r\n                    : `facebook: ${props.userProfile.contacts.facebook}`}\r\n                <div/>\r\n                {props.userProfile.contacts.website === null\r\n                    ? 'website: Еще нет'\r\n                    : `website: ${props.userProfile.contacts.website}`\r\n                }\r\n                <div/>\r\n                {props.userProfile.contacts.vk === null\r\n                    ? `VK: Еще нет`\r\n                    : `VK: ${props.userProfile.contacts.vk}`}\r\n                <div/>\r\n                {props.userProfile.contacts.twitter === null\r\n                    ? `Twitter: Еще нет`\r\n                    : `Twitter: ${props.userProfile.contacts.twitter}`}\r\n                <div/>\r\n                {props.userProfile.contacts.instagram === null\r\n                    ? `Instagram: Еще нет`\r\n                    : `Instagram: ${props.userProfile.contacts.instagram}`}\r\n                <div/>\r\n                {props.userProfile.contacts.youtube === null\r\n                    ? 'youtube: Еще нет'\r\n                    : `youtube: ${props.userProfile.contacts.youtube}`\r\n                }\r\n                <div/>\r\n                {props.userProfile.contacts.github === null\r\n                    ? `github: Еще нет`\r\n                    : `github: ${props.userProfile.contacts.github}`}\r\n                <div/>\r\n                {props.userProfile.contacts.mainLink === null\r\n                    ? 'mainLink: Еще нет'\r\n                    : `mainLink: ${props.userProfile.contacts.mainLink}`\r\n                }\r\n                <div>\r\n                    {props.userProfile.lookingForAJob\r\n                        ? `Ищу работу: ${props.userProfile.lookingForAJobDescription}`\r\n                        : 'Не ищу работу'}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileInfo","import s from './Post.module.css'\r\nimport userPhoto from '../../../../assets/images/userPhoto.png'\r\n\r\nconst Post = (props) => {\r\n    return (\r\n        <div className={s.item}>\r\n            <img src={userPhoto}/>\r\n            {props.message}\r\n            <div>\r\n                <button>Like</button>\r\n                <span>{props.likes}</span>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Post","import s from './MyPosts.module.css'\r\nimport * as React from \"react\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, required} from \"../../../utils/validators\";\r\nimport {element} from \"../../Common/Form control/FormControl\";\r\nimport Post from \"./Post/Post\";\r\n\r\nconst maxLength10 = maxLengthCreator(10)\r\n\r\nconst Textarea = element('textarea')\r\n\r\nconst MyPostsForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field placeholder={'New post'} name={'post'} component={Textarea}\r\n                validate={[required, maxLength10]}/>\r\n            </div>\r\n            <div>\r\n                <button>Add post</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst MyPostsReduxForm = reduxForm({form: 'myPosts'})(MyPostsForm)\r\n\r\nconst MyPosts = React.memo((props) => {\r\n    console.log('render')\r\n    let postEl = [...props.posts]\r\n        .reverse()\r\n        .map(p => <Post message={p.message} likes={p.likes} key={p.id}/>)\r\n    const addPost = (formData) => {\r\n        props.addPost(formData.post)\r\n    }\r\n    return (\r\n        <div className={s.descriptionBlock}>\r\n            <h3>My posts</h3>\r\n            <MyPostsReduxForm onSubmit={addPost}/>\r\n            <div className={s.posts}>\r\n                {postEl}\r\n            </div>\r\n        </div>\r\n    )\r\n})\r\n\r\n\r\nexport default MyPosts","import * as React from \"react\";\r\nimport {addPost} from \"../../../Redux/profile-reducer\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        posts: state.profilePage.postsData\r\n\r\n    }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, {addPost})(MyPosts)\r\n\r\n\r\nexport default MyPostsContainer","import ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\n\r\nconst Profile = (props) => {\r\n    return (\r\n        <div>\r\n            <ProfileInfo userProfile={props.userProfile} status={props.status} updateProfileStatus={props.updateProfileStatus}/>\r\n            <MyPostsContainer />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Profile","import * as React from \"react\";\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {getProfile, getProfileStatus, updateProfileStatus} from \"../../Redux/profile-reducer\";\r\nimport {withRouter} from \"react-router\";\r\nimport {withAuthRedirect} from \"../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        let userId = this.props.match.params.userId\r\n        if (!userId) {\r\n            userId = this.props.authuserID\r\n        }\r\n        this.props.getProfile(userId)\r\n        this.props.getProfileStatus(userId)\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Profile {...this.props} userProfile={this.props.userProfile}\r\n                status={this.props.status} updateProfileStatus={this.props.updateProfileStatus}/>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        userProfile: state.profilePage.userProfile,\r\n        status: state.profilePage.status,\r\n        authuserID: state.auth.userID\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {getProfile, getProfileStatus, updateProfileStatus}),\r\n    withRouter,\r\n    withAuthRedirect\r\n)(ProfileContainer)\r\n"],"sourceRoot":""}