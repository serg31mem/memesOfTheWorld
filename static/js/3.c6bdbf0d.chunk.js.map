{"version":3,"sources":["Components/hoc/withAuthRedirect.js","../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","Components/Profile/ProfileInfo/ProfileInfo.module.css","Components/Profile/MyPosts/MyPosts.module.css","Components/Profile/MyPosts/Post/Post.module.css","Components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","Components/Profile/ProfileInfo/ProfileInfo.jsx","Components/Profile/MyPosts/Post/Post.js","Components/Profile/MyPosts/MyPosts.js","Components/Profile/MyPosts/MyPostsContainer.js","Components/Profile/Profile.js","Components/Profile/ProfileContainer.js"],"names":["mapStateToPropsRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","module","exports","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","onChange","e","currentTarget","autoFocus","onBlur","updateProfileStatus","ProfileInfo","userProfile","Preloader","className","s","profilePhoto","fullName","src","photos","large","userPhoto","isOwner","type","target","files","savePhoto","aboutMe","contacts","facebook","website","vk","twitter","instagram","youtube","github","mainLink","lookingForAJob","lookingForAJobDescription","Post","item","message","likes","maxLength10","maxLengthCreator","Textarea","element","MyPostsReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","placeholder","name","component","validate","required","MyPosts","console","log","postEl","posts","reverse","map","p","id","descriptionBlock","formData","addPost","post","MyPostsContainer","profilePage","postsData","Profile","ProfileContainer","refreshProfile","userId","match","params","authuserID","getProfile","getProfileStatus","prevProps","prevState","snapshot","compose","userID","withRouter"],"mappings":"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","file":"static/js/3.c6bdbf0d.chunk.js","sourcesContent":["import {Redirect} from \"react-router-dom\";\r\nimport * as React from \"react\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsRedirect = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to='/login'/>\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n\r\n    let ConnectAuthRedirectComponent = connect(mapStateToPropsRedirect)(RedirectComponent)\r\n\r\n    return ConnectAuthRedirectComponent\r\n}","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profilePhoto\":\"ProfileInfo_profilePhoto__3KERE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"descriptionBlock\":\"MyPosts_descriptionBlock__q5aZF\",\"posts\":\"MyPosts_posts__2ebcG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__3d-J4\"};","import React, {useState, useEffect} from \"react\";\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false)\r\n    let [status, setStatus] = useState(props.status)\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    }, [props.status])\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false)\r\n        props.updateProfileStatus(status)\r\n    }\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {!editMode &&\r\n            <div>\r\n                <span onDoubleClick={activateEditMode}>{props.status}</span>\r\n            </div>\r\n            }\r\n            {editMode &&\r\n            <div>\r\n                <input onChange={onStatusChange} autoFocus={true} onBlur={deactivateEditMode}\r\n                       value={status}/>\r\n            </div>\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nexport default ProfileStatusWithHooks","import s from './ProfileInfo.module.css'\r\nimport Preloader from \"../../Common/Preloader/Preloader\";\r\nimport * as React from \"react\";\r\nimport userPhoto from '../../../assets/images/userPhoto.png'\r\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\r\n\r\nconst ProfileInfo = (props) => {\r\n    if (!props.userProfile) {\r\n        return <Preloader/>\r\n    }\r\n\r\n    const onMainPhotoSelected = (e) => {\r\n        if (e.target.files.length) {\r\n            props.savePhoto(e.target.files[0])\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={s.profilePhoto}>\r\n            {props.userProfile.fullName}\r\n            <div/>\r\n            <div>\r\n                <img src={props.userProfile.photos.large != null ? props.userProfile.photos.large : userPhoto}/>\r\n                <div>\r\n                    {props.isOwner && <input type={'file'} onChange={onMainPhotoSelected}/>}\r\n                </div>\r\n            </div>\r\n            <div>\r\n                <ProfileStatusWithHooks status={props.status} updateProfileStatus={props.updateProfileStatus}/>\r\n            </div>\r\n            <div>\r\n                {props.userProfile.aboutMe === null\r\n                    ? 'About me: Еще нет'\r\n                    : `About me: ${props.userProfile.aboutMe}`}\r\n            </div>\r\n            <div>\r\n                {`My contacts: `}\r\n                <div/>\r\n                {props.userProfile.contacts.facebook === null\r\n                    ? `facebook: Еще нет`\r\n                    : `facebook: ${props.userProfile.contacts.facebook}`}\r\n                <div/>\r\n                {props.userProfile.contacts.website === null\r\n                    ? 'website: Еще нет'\r\n                    : `website: ${props.userProfile.contacts.website}`\r\n                }\r\n                <div/>\r\n                {props.userProfile.contacts.vk === null\r\n                    ? `VK: Еще нет`\r\n                    : `VK: ${props.userProfile.contacts.vk}`}\r\n                <div/>\r\n                {props.userProfile.contacts.twitter === null\r\n                    ? `Twitter: Еще нет`\r\n                    : `Twitter: ${props.userProfile.contacts.twitter}`}\r\n                <div/>\r\n                {props.userProfile.contacts.instagram === null\r\n                    ? `Instagram: Еще нет`\r\n                    : `Instagram: ${props.userProfile.contacts.instagram}`}\r\n                <div/>\r\n                {props.userProfile.contacts.youtube === null\r\n                    ? 'youtube: Еще нет'\r\n                    : `youtube: ${props.userProfile.contacts.youtube}`\r\n                }\r\n                <div/>\r\n                {props.userProfile.contacts.github === null\r\n                    ? `github: Еще нет`\r\n                    : `github: ${props.userProfile.contacts.github}`}\r\n                <div/>\r\n                {props.userProfile.contacts.mainLink === null\r\n                    ? 'mainLink: Еще нет'\r\n                    : `mainLink: ${props.userProfile.contacts.mainLink}`\r\n                }\r\n                <div>\r\n                    {props.userProfile.lookingForAJob\r\n                        ? `Ищу работу: ${props.userProfile.lookingForAJobDescription}`\r\n                        : 'Не ищу работу'}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileInfo","import s from './Post.module.css'\r\nimport userPhoto from '../../../../assets/images/userPhoto.png'\r\n\r\nconst Post = (props) => {\r\n    return (\r\n        <div className={s.item}>\r\n            <img src={userPhoto}/>\r\n            {props.message}\r\n            <div>\r\n                <button>Like</button>\r\n                <span>{props.likes}</span>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Post","import s from './MyPosts.module.css'\r\nimport * as React from \"react\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, required} from \"../../../utils/validators\";\r\nimport {element} from \"../../Common/Form control/FormControl\";\r\nimport Post from \"./Post/Post\";\r\n\r\nconst maxLength10 = maxLengthCreator(10)\r\n\r\nconst Textarea = element('textarea')\r\n\r\nconst MyPostsForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field placeholder={'New post'} name={'post'} component={Textarea}\r\n                validate={[required, maxLength10]}/>\r\n            </div>\r\n            <div>\r\n                <button>Add post</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst MyPostsReduxForm = reduxForm({form: 'myPosts'})(MyPostsForm)\r\n\r\nconst MyPosts = React.memo((props) => {\r\n    console.log('render')\r\n    let postEl = [...props.posts]\r\n        .reverse()\r\n        .map(p => <Post message={p.message} likes={p.likes} key={p.id}/>)\r\n    const addPost = (formData) => {\r\n        props.addPost(formData.post)\r\n    }\r\n    return (\r\n        <div className={s.descriptionBlock}>\r\n            <h3>My posts</h3>\r\n            <MyPostsReduxForm onSubmit={addPost}/>\r\n            <div className={s.posts}>\r\n                {postEl}\r\n            </div>\r\n        </div>\r\n    )\r\n})\r\n\r\n\r\nexport default MyPosts","import * as React from \"react\";\r\nimport {addPost} from \"../../../Redux/profile-reducer\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        posts: state.profilePage.postsData\r\n\r\n    }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, {addPost})(MyPosts)\r\n\r\n\r\nexport default MyPostsContainer","import ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\n\r\nconst Profile = (props) => {\r\n    return (\r\n        <div>\r\n            <ProfileInfo userProfile={props.userProfile}\r\n                         status={props.status}\r\n                         updateProfileStatus={props.updateProfileStatus}\r\n                         isOwner={props.isOwner}\r\n                         savePhoto={props.savePhoto}/>\r\n            <MyPostsContainer/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Profile","import * as React from \"react\";\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {getProfile, getProfileStatus, savePhoto, updateProfileStatus} from \"../../Redux/profile-reducer\";\r\nimport {withRouter} from \"react-router\";\r\nimport {withAuthRedirect} from \"../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n    refreshProfile = () => {\r\n        let userId = this.props.match.params.userId\r\n        if (!userId) {\r\n            userId = this.props.authuserID\r\n        }\r\n        this.props.getProfile(userId)\r\n        this.props.getProfileStatus(userId)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.refreshProfile()\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (this.props.match.params.userId !== prevProps.match.params.userId) {\r\n            this.refreshProfile()\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Profile {...this.props}\r\n                         userProfile={this.props.userProfile}\r\n                         status={this.props.status}\r\n                         updateProfileStatus={this.props.updateProfileStatus}\r\n                         isOwner={!this.props.match.params.userId}\r\n                         savePhoto={this.props.savePhoto}/>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        userProfile: state.profilePage.userProfile,\r\n        status: state.profilePage.status,\r\n        authuserID: state.auth.userID\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {getProfile, getProfileStatus, updateProfileStatus, savePhoto}),\r\n    withRouter,\r\n    withAuthRedirect\r\n)(ProfileContainer)\r\n"],"sourceRoot":""}