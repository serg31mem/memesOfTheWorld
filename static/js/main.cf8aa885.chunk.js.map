{"version":3,"sources":["Redux/dialogs-reducer.js","Redux/Users-reducer.js","Components/NavBar/Nav.module.css","Components/api/api.js","Redux/auth-reducer.js","Components/NavBar/BlockFriends/BlockFriend/BlockFriend.jsx","Components/NavBar/BlockFriends/BlockFriends.jsx","Components/Friends/Friend/Friend.jsx","Components/Friends/Friends.jsx","Components/NavBar/Nav.js","Components/News/News.jsx","Components/Music/Music.jsx","Components/Settings/Settings.jsx","Components/Header/Header.js","Components/Header/HeaderContainer.js","Components/Login/Login.jsx","Redux/app-reducer.js","Redux/store-redux.js","Components/hoc/withSuspense.js","App.js","index.js","Components/NavBar/BlockFriends/BlockFriends.module.css","Components/Friends/Friends.module.css","Components/Common/Form control/FormControl.module.css","utils/validators.js","Components/Header/Header.module.css","assets/images/userPhoto.png","Components/Common/Form control/FormControl.js","Redux/profile-reducer.js","assets/images/preloader.svg","Components/Common/Preloader/Preloader.jsx"],"names":["SEND_MESSAGE","initiationState","messageData","id","textMessage","sendMessage","messageBody","type","dilogsReduser","state","action","newMessage","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalCount","pageSize","currentPage","isFetching","followingProgress","followSuccess","userID","unFollowSuccess","setCurrentPage","toggleIsFetching","toggleIsFollowingProgress","requestUsers","dispatch","a","usersAPI","getUsers","data","items","unfollow","unfollowUser","resultCode","follow","followUser","usersReducer","map","u","followed","filter","module","exports","instance","axios","create","withCredentials","headers","baseURL","get","then","response","userId","delete","post","authAPI","authMe","authLogin","email","password","rememberMe","captcha","authLogout","profileAPI","getProfile","getProfileStatus","updateProfileStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","securityAPI","getCaptcha","SET_USER_DATA","SET_USER_PHOTO","SET_CAPTCHA_URL","login","isAuth","userPhoto","isUserPhoto","captchaUrl","setUserData","authReducer","photos","small","message","messages","length","stopSubmit","_error","url","BlockFriend","props","className","s","friends","to","homeLink","avatar","friendsName","name","BlockFriends","friendsElement","store","getState","profilePage","profileData","friend","friendsItem","Friend","Friends","Nav","nav","item","activeClassName","activeLink","itemFriends","News","Music","Settings","Header","header","loginBlock","onClick","src","HeaderContainer","this","React","connect","auth","Input","element","LoginReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","placeholder","component","validate","required","error","formSummaryError","INITIALIZED_SUCCESS","initialized","initializedSuccess","appReducer","reducers","combineReducers","profileReducer","dialogsPage","usersPage","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","applyMiddleware","thunkMiddleware","__store__","withSuspense","Component","fallback","ProfileContainer","lazy","DialogsContainer","UsersContainer","App","exact","from","path","render","Preloader","AppContainer","MainApp","ReactDOM","StrictMode","document","getElementById","value","maxLengthCreator","maxLength","Element","input","meta","hasError","touched","formControl","ADD_POST","SET_USER_PROFILE","SET_PROFILE_STATUS","DELETE_POST","SAVE_PHOTO_SUCCESS","country","city","postsData","likes","userProfile","addPost","bodyPost","setProfileStatus","profileStatus","savePhotoSuccess","newPost","p","idPost","Promise","reject","preLoader"],"mappings":"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","file":"static/js/main.cf8aa885.chunk.js","sourcesContent":["const SEND_MESSAGE = 'SEND-MESSAGE';\r\n\r\nlet initiationState = {\r\n    messageData: [\r\n        {id: 1, textMessage: 'Hi'},\r\n        {id: 2, textMessage: 'KEK'},\r\n        {id: 3, textMessage: 'LOL'},\r\n    ],\r\n}\r\n\r\nconst dilogsReduser = (state = initiationState, action) => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:{\r\n            let newMessage = {\r\n                id: 4,\r\n                textMessage: action.messageBody\r\n            }\r\n            return  {\r\n                ...state,\r\n                messageData: [...state.messageData, newMessage]\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const sendMessage = (messageBody) => ({type: SEND_MESSAGE, messageBody})\r\n\r\nexport default dilogsReduser","import {usersAPI} from \"../Components/api/api\";\r\n\r\nconst FOLLOW = 'FOLLOW'\r\nconst UNFOLLOW = 'UNFOLLOW'\r\nconst SET_USERS = 'SET_USERS'\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE'\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT'\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING'\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS'\r\n\r\nlet initiationState = {\r\n    users: [],\r\n    totalCount: 0,\r\n    pageSize: 5,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingProgress: [],\r\n}\r\n\r\n\r\nconst usersReducer = (state = initiationState, action) => {\r\n\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userID) {\r\n                        return {...u, followed: true}\r\n                    }\r\n                    return u\r\n                })\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userID) {\r\n                        return {...u, followed: false}\r\n                    }\r\n                    return u\r\n                })\r\n            }\r\n        case SET_USERS:\r\n            return {\r\n                ...state,\r\n                users: [...action.users]\r\n            }\r\n        case SET_CURRENT_PAGE:\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage\r\n            }\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return {\r\n                ...state,\r\n                totalCount: action.totalCount\r\n            }\r\n        case TOGGLE_IS_FETCHING:\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followingProgress: action.isFetching\r\n                    ? [...state.followingProgress, action.userID]\r\n                    : state.followingProgress.filter(id => id !== action.userID)\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n\r\n}\r\n\r\nexport const followSuccess = (userID) => ({type: FOLLOW, userID})\r\n\r\nexport const unFollowSuccess = (userID) => ({type: UNFOLLOW, userID})\r\n\r\nexport const setUsers = (users) => ({type: SET_USERS, users})\r\n\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage})\r\n\r\nexport const setTotalUsersCount = (totalCount) => ({type: SET_TOTAL_USERS_COUNT, totalCount})\r\n\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching})\r\n\r\nexport const toggleIsFollowingProgress = (isFetching, userID) => ({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    isFetching,\r\n    userID\r\n})\r\n\r\nexport const requestUsers = (currentPage, pageSize) => async (dispatch) => {\r\n    dispatch(toggleIsFetching(true))\r\n    dispatch(setCurrentPage(currentPage))\r\n    let data = await usersAPI.getUsers(currentPage, pageSize)\r\n\r\n    dispatch(toggleIsFetching(false))\r\n    dispatch(setUsers(data.items))\r\n    dispatch(setTotalUsersCount(data.totalCount))\r\n}\r\n\r\n\r\nexport const unfollow = (userID) => async (dispatch) => {\r\n    dispatch(toggleIsFollowingProgress(true, userID))\r\n    let data = await usersAPI.unfollowUser(userID)\r\n\r\n    if (data.resultCode === 0) {\r\n        dispatch(unFollowSuccess(userID))\r\n    }\r\n    dispatch(toggleIsFollowingProgress(false, userID))\r\n\r\n}\r\n\r\nexport const follow = (userID) => async (dispatch) => {\r\n    dispatch(toggleIsFollowingProgress(true, userID))\r\n    let data = await usersAPI.followUser(userID)\r\n\r\n    if (data.resultCode === 0) {\r\n        dispatch(followSuccess(userID))\r\n    }\r\n    dispatch(toggleIsFollowingProgress(false, userID))\r\n}\r\n\r\n\r\nexport default usersReducer","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__3Cxw7\",\"item\":\"Nav_item__1KR2l\",\"activeLink\":\"Nav_activeLink__2a-W4\",\"itemFriends\":\"Nav_itemFriends__1pv2t\"};","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    headers: {\r\n        'API-KEY': '5764fe15-26d5-4a4f-ab4c-5db09136fe0a'\r\n    },\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/'\r\n})\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage, pageSize) {\r\n        return instance\r\n            .get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => response.data)\r\n    },\r\n\r\n    unfollowUser(userId) {\r\n        return instance\r\n            .delete(`follow/${userId}`)\r\n            .then(response => response.data)\r\n    },\r\n    followUser(userId) {\r\n        return instance\r\n            .post(`follow/${userId}`)\r\n            .then(response => response.data)\r\n    }\r\n\r\n}\r\n\r\nexport const authAPI = {\r\n    authMe() {\r\n        return instance\r\n            .get(`auth/me`)\r\n\r\n    },\r\n    authLogin(email, password, rememberMe = false, captcha = '') {\r\n        return instance\r\n            .post('auth/login', {email, password, rememberMe, captcha})\r\n    },\r\n    authLogout() {\r\n        return instance\r\n            .delete('auth/login')\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance\r\n            .get(`profile/${userId}`)\r\n            .then(response => response.data)\r\n    },\r\n    getProfileStatus(userID) {\r\n        return instance\r\n            .get(`profile/status/${userID}`)\r\n            .then(response => response.data)\r\n    },\r\n    updateProfileStatus(status) {\r\n        return instance\r\n            .put('profile/status', {status: status})\r\n\r\n    },\r\n    savePhoto(photoFile) {\r\n        const formData = new FormData()\r\n        formData.append('image', photoFile)\r\n        return instance\r\n            .put('profile/photo', formData, {\r\n                headers: {\r\n                    'Content-Type': 'multipart/form-data'\r\n                }\r\n            })\r\n    },\r\n    saveProfile(profile) {\r\n        return instance\r\n            .put('profile', profile)\r\n    }\r\n}\r\n\r\nexport const securityAPI = {\r\n    getCaptcha() {\r\n        return instance\r\n            .get(`/security/get-captcha-url`)\r\n    }\r\n}","import {authAPI, profileAPI, securityAPI} from \"../Components/api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'SET_USER_DATA'\r\nconst SET_USER_PHOTO = 'SET_USER_PHOTO'\r\nconst SET_CAPTCHA_URL = 'SET_CAPTCHA_URL'\r\n\r\nlet initiationState = {\r\n    userID: null,\r\n    login: null,\r\n    email: null,\r\n    isAuth: false,\r\n    userPhoto: null,\r\n    isUserPhoto: false,\r\n    captchaUrl: '',\r\n}\r\n\r\n\r\nconst authReducer = (state = initiationState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.data,\r\n            }\r\n        case SET_USER_PHOTO:\r\n            return {\r\n                ...state,\r\n                userPhoto: action.userPhoto,\r\n            }\r\n        case SET_CAPTCHA_URL:\r\n            return {\r\n                ...state,\r\n                captchaUrl: action.captchaUrl,\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n\r\n}\r\n\r\nexport const setUserData = (userID, email, login, isAuth) => ({\r\n    type: SET_USER_DATA,\r\n    data: {userID, login, email, isAuth}\r\n})\r\n\r\nexport const setUserPhoto = (userPhoto) => ({type: SET_USER_PHOTO, userPhoto})\r\n\r\nexport const setCaptcha = (captchaUrl) => ({type: SET_CAPTCHA_URL, captchaUrl})\r\n\r\nexport default authReducer\r\n\r\nexport const authMe = () => async (dispatch) => {\r\n    let response = await authAPI.authMe()\r\n    if (response.data.resultCode === 0) {\r\n        let {id, login, email} = response.data.data\r\n        dispatch(setUserData(id, email, login, true))\r\n        let data = await profileAPI.getProfile(id)\r\n        dispatch(setUserPhoto(data.photos.small))\r\n    }\r\n}\r\n\r\nexport const authLogin = (email, password, rememberMe, captcha) => async (dispatch) => {\r\n    let response = await authAPI.authLogin(email, password, rememberMe, captcha)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(authMe())\r\n    } else {\r\n        if (response.data.resultCode === 10) {\r\n            dispatch(getCaptcha())\r\n        }\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error'\r\n        dispatch(stopSubmit('login', {_error: message}))\r\n    }\r\n}\r\n\r\nexport const authLogout = () => async (dispatch) => {\r\n    let response = await authAPI.authLogout()\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setUserData(null, null, null, false))\r\n    }\r\n}\r\n\r\nexport const getCaptcha = () => async (dispatch) => {\r\n    let response = await securityAPI.getCaptcha()\r\n    dispatch(setCaptcha(response.data.url))\r\n}","import s from './../BlockFriends.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst BlockFriend = (props) => {\r\n    return (\r\n        <div className={s.friends}>\r\n            <div>\r\n                <NavLink to={props.homeLink}>{props.avatar}</NavLink>\r\n            </div>\r\n            <div className={s.friendsName}>\r\n                <NavLink to={props.homeLink}>{props.name}</NavLink>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default BlockFriend","import s from './BlockFriends.module.css'\r\nimport BlockFriend from \"./BlockFriend/BlockFriend\";\r\n\r\nconst BlockFriends = (props) => {\r\n    let friendsElement = props.store.getState().profilePage.profileData\r\n        .map(friend => <BlockFriend avatar={friend.avatar} name={friend.name} homeLink={friend.homeLink}\r\n                                    key={friend.id}/>)\r\n\r\n    return (\r\n        <div className={s.friends}>\r\n            <div className={s.friendsItem}>\r\n                {friendsElement}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default BlockFriends","import s from './../Friends.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Friend = (props) => {\r\n    return (\r\n        <div className={s.friends}>\r\n            <div>\r\n                <NavLink to={props.homeLink}>{props.avatar}</NavLink>\r\n            </div>\r\n            <div className={s.friendsName}>\r\n                <NavLink to={props.homeLink}>{props.name}</NavLink>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Friend","import s from './Friends.module.css'\r\nimport Friend from './Friend/Friend'\r\n\r\nconst Friends = (props) => {\r\n    let friendsElement = props.state\r\n        .map(friend => <Friend avatar={friend.avatar} name={friend.name} homeLink={friend.homeLink} key={friend.id}/>)\r\n\r\n    return (\r\n        <div className={s.friends}>\r\n            <div className={s.friendsItem}>\r\n                {friendsElement}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Friends","import s from './Nav.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport BlockFriends from \"./BlockFriends/BlockFriends\";\r\nimport Friends from \"../Friends/Friends\";\r\n\r\nconst Nav = (props) => {\r\n    return (\r\n        <nav className={s.nav}>\r\n            <div className={s.item}>\r\n                <NavLink to='/profile' activeClassName={s.activeLink}>Profile</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/friends' activeClassName={s.activeLink}>Friends</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/dialogs' activeClassName={s.activeLink}>Messages</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/news' activeClassName={s.activeLink}>News</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/users' activeClassName={s.activeLink}>Users</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/music' activeClassName={s.activeLink}>Music</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/settings' activeClassName={s.activeLink}>Settings</NavLink>\r\n            </div>\r\n            <div>\r\n                <div className={s.itemFriends}>\r\n                    Friends\r\n                </div>\r\n                <div>\r\n                    <BlockFriends store={props.store}/>\r\n                </div>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Nav","import s from './News.module.css'\r\n\r\nconst News = (props) => {\r\n    return (\r\n        <div>\r\n            News\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default News","import s from './Music.module.css'\r\n\r\nconst Music = (props) => {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Music","import s from './Settings.module.css'\r\n\r\nconst Settings = (props) => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Settings","import s from './Header.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport userPhoto from '../../assets/images/userPhoto.png'\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={s.header}>\r\n            <div className={s.loginBlock}>\r\n                <span>\r\n                    {props.isAuth\r\n                        ? <div>{props.login}</div>\r\n                        : <NavLink to='/login'>Login</NavLink>}\r\n                </span>\r\n                <span>\r\n                    {props.isAuth\r\n                        ? <div>\r\n                            <button onClick={props.authLogout}>Log out</button>\r\n                        </div>\r\n                        : null}\r\n                </span>\r\n                <span>\r\n                    {(props.isAuth)\r\n                        ? props.userPhoto !== null ? <div><img src={props.userPhoto}/></div> : <img src={userPhoto}/>\r\n                        : null}\r\n                </span>\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import * as React from \"react\";\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {authLogout, authMe} from \"../../Redux/auth-reducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        login: state.auth.login,\r\n        userPhoto: state.auth.userPhoto,\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {authLogout, authMe})(HeaderContainer)","import {Field, reduxForm} from \"redux-form\";\r\nimport {connect} from \"react-redux\";\r\nimport {authLogin} from \"../../Redux/auth-reducer\";\r\nimport {element} from \"../Common/Form control/FormControl\";\r\nimport {required} from \"../../utils/validators\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport s from '../Common/Form control/FormControl.module.css'\r\n\r\nconst Input = element('input')\r\n\r\nconst LoginForm = (props) => {\r\n    return <form onSubmit={props.handleSubmit}>\r\n        <div>\r\n            <Field placeholder={'Email'} name={'email'} component={Input}\r\n                   validate={[required]}/>\r\n        </div>\r\n        <div>\r\n            <Field placeholder={'Password'} name={'password'} component={Input} type={'password'}\r\n                   validate={[required]}/>\r\n        </div>\r\n        <div>\r\n            <Field type={'checkbox'} name={'rememberMe'} component={Input}/> remember me\r\n        </div>\r\n        <div className={s.captcha}>\r\n            {props.captchaUrl && <img src={props.captchaUrl}/>}\r\n        </div>\r\n        <div>\r\n            {props.captchaUrl && <Field placeholder={'Enter captcha'} name={'captcha'} component={Input}\r\n                                        validate={[required]}/>}\r\n        </div>\r\n        <div>\r\n            {props.error && <div className={s.formSummaryError}>{props.error}</div>}\r\n        </div>\r\n        <div>\r\n            <button>Login</button>\r\n        </div>\r\n    </form>\r\n\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm)\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.authLogin(formData.email, formData.password, formData.rememberMe, formData.captcha)\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n\r\n    return <div>\r\n        <h1>Login</h1>\r\n        <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl}/>\r\n    </div>\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        captchaUrl: state.auth.captchaUrl\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {authLogin})(Login)","import {authMe} from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS'\r\n\r\n\r\nlet initiationState = {\r\n    initialized: false,\r\n}\r\n\r\n\r\nconst appReducer = (state = initiationState, action) => {\r\n\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true,\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n\r\n}\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS})\r\n\r\nexport const initialized = () => (dispatch) => {\r\n    let promise = dispatch(authMe())\r\n    promise.then(() => {\r\n        dispatch(initializedSuccess)\r\n    })\r\n}\r\n\r\nexport default appReducer","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dilogsReduser from \"./dialogs-reducer\";\r\nimport usersReducer from \"./Users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dilogsReduser,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n})\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nwindow.__store__ = store\r\n\r\nexport default store","import * as React from \"react\";\r\n\r\nexport const withSuspense = (Component) => (props) => {\r\n    return (\r\n        <React.Suspense fallback={<div>Loading...</div>}>\r\n            <Component {...props}/>\r\n        </React.Suspense>\r\n    )\r\n}","import './App.css';\nimport Nav from \"./Components/NavBar/Nav\";\nimport {HashRouter, Redirect, Route, Switch} from \"react-router-dom\";\nimport News from \"./Components/News/News\";\nimport Music from \"./Components/Music/Music\";\nimport Settings from \"./Components/Settings/Settings\";\nimport Friends from \"./Components/Friends/Friends\";\nimport React from \"react\";\nimport HeaderContainer from \"./Components/Header/HeaderContainer\";\nimport Login from \"./Components/Login/Login\";\nimport {connect, Provider} from \"react-redux\";\nimport {initializedSuccess} from \"./Redux/app-reducer\";\nimport Preloader from \"./Components/Common/Preloader/Preloader\";\nimport store from \"./Redux/store-redux\";\nimport {withSuspense} from \"./Components/hoc/withSuspense\";\n\nconst ProfileContainer = React.lazy(() => import('./Components/Profile/ProfileContainer'));\nconst DialogsContainer = React.lazy(() => import('./Components/Dialogs/DialogsContainer'));\nconst UsersContainer = React.lazy(() => import('./Components/Users/UsersContainer'));\n\nclass App extends React.Component {\n    componentDidMount() {\n        this.props.initializedSuccess()\n    }\n\n    render() {\n        if (!this.props.initialized) {\n            return <Preloader/>\n        }\n        return (\n            <div className='app-wrapper'>\n                <HeaderContainer/>\n                <Nav store={this.props.store}/>\n                <div className='app-wrapper-content'>\n                    <Switch>\n                        <Redirect exact from=\"/\" to=\"/profile\" />\n                        <Route path='/profile/:userId?' render={withSuspense(ProfileContainer)}/>\n                        <Route path='/friends'\n                               render={() => <Friends state={this.props.store.getState().profilePage.profileData}/>}/>\n                        <Route path='/dialogs' render={withSuspense(DialogsContainer)}/>\n                        <Route path='/news' render={() => <News/>}/>\n                        <Route path='/music' render={() => <Music/>}/>\n                        <Route path='/users' render={withSuspense(UsersContainer)}/>\n                        <Route path='/settings' render={() => <Settings/>}/>\n                        <Route path='/login' render={() => <Login/>}/>\n                        <Route path='*' render={() => <div><b>404 NOT FOUND</b></div>}/>\n                    </Switch>\n                </div>\n            </div>\n        );\n    }\n}\n\nlet mapStateToProps = (state) => ({\n    initialized: state.app.initialized\n})\n\nconst AppContainer = connect(mapStateToProps, {initializedSuccess})(App)\n\nconst MainApp = (props) => {\n    return <HashRouter>\n        <Provider store={store}>\n            <AppContainer store={store}/>\n        </Provider>\n    </HashRouter>\n}\n\nexport default MainApp\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport MainApp from \"./App\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <MainApp/>\n    </React.StrictMode>,\n    document.getElementById('root')\n)\n\n\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friends\":\"BlockFriends_friends__3dTJR\",\"friendsItem\":\"BlockFriends_friendsItem__R1jYe\",\"friendsName\":\"BlockFriends_friendsName__1T8_M\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friends\":\"Friends_friends__3QVZh\",\"friendsItem\":\"Friends_friendsItem__tPREw\",\"friendsName\":\"Friends_friendsName__1qBsl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControl_formControl__2KHMY\",\"error\":\"FormControl_error__3WPTN\",\"formSummaryError\":\"FormControl_formSummaryError__Ly-hK\",\"captcha\":\"FormControl_captcha__3dAyB\"};","export const required = (value) => {\r\n    if (value) return undefined\r\n    return 'Field is required'\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`\r\n    return undefined\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__x6-qq\",\"loginBlock\":\"Header_loginBlock__3ImxS\"};","export default __webpack_public_path__ + \"static/media/userPhoto.92d80a7e.png\";","import s from './FormControl.module.css'\r\n\r\nexport const element = (Element) => ({input, meta, ...props}) => {\r\n    const hasError = meta.touched && meta.error\r\n    return (\r\n        <div className={`${s.formControl} ${hasError ? s.error: ''}`}>\r\n            <div>\r\n                <Element {...input} {...props}/>\r\n            </div>\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\n","import {profileAPI} from \"../Components/api/api\";\r\nimport {authMe} from \"./auth-reducer\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE'\r\nconst SET_PROFILE_STATUS = 'SET_PROFILE_STATUS'\r\nconst DELETE_POST = 'DELETE_POST'\r\nconst SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS'\r\n\r\n\r\nlet initiationState = {\r\n    profileData: [\r\n        {\r\n            homeLink: 'sergio',\r\n            id: 1,\r\n            name: 'Sergio',\r\n            avatar: <img\r\n                src='https://yt3.ggpht.com/a/AATXAJxetozsFIxpK6XvnUDpCVKIYn7hxLiM2DVFWixqPA=s900-c-k-c0xffffffff-no-rj-mo'/>,\r\n            status: 'Life coll',\r\n            country: 'Russia',\r\n            city: 'Samara'\r\n        },\r\n        {\r\n            homeLink: 'alex',\r\n            id: 2,\r\n            name: 'Alex',\r\n            avatar: <img\r\n                src='https://avatars.yandex.net/get-music-user-playlist/51766/595160370.1000.25677/m1000x1000?1589812186474&webp=false'/>,\r\n            status: '3D coll',\r\n            country: 'Russia',\r\n            city: 'Samara'\r\n        },\r\n        {\r\n            homeLink: 'nasty',\r\n            id: 3,\r\n            name: 'Nasty',\r\n            avatar: <img\r\n                src='https://4.bp.blogspot.com/-aau51YHhLqI/UDFgnKjncGI/AAAAAAAAAH8/8WKFByNzopI/s1600/INFINITO+DESPRECIO.png'/>,\r\n            status: 'Psychology coll',\r\n            country: 'Russia',\r\n            city: 'Samara'\r\n        },\r\n        {\r\n            homeLink: 'mike',\r\n            id: 4,\r\n            name: 'Mike',\r\n            avatar: <img src='https://ezhbaev.ru/faces/img/large/surprised-rage-clean-l.png'/>,\r\n            status: 'Money coll',\r\n            country: 'Russia',\r\n            city: 'Samara'\r\n        },\r\n        {\r\n            homeLink: 'svetachka',\r\n            id: 5,\r\n            name: 'Svetachka',\r\n            avatar: <img src='https://forum.exbo.ru/assets/files/2019-11-10/1573417254-129155-14d.png'/>,\r\n            status: 'Pussies coll',\r\n            country: 'Russia',\r\n            city: 'Samara'\r\n        },\r\n        {\r\n            homeLink: 'losha',\r\n            id: 6,\r\n            name: 'Losha',\r\n            avatar: <img src='https://i03.fotocdn.net/s102/9d0b74786a63f5d0/user_l/222810920.jpg'/>,\r\n            status: 'Drugs coll',\r\n            country: 'Russia',\r\n            city: 'Samara'\r\n        },\r\n    ],\r\n    postsData: [\r\n        {id: 1, message: 'Привет, классные мемы', likes: 3},\r\n        {id: 2, message: 'Твои мемы дают силы жить!', likes: 69}\r\n    ],\r\n    userProfile: null,\r\n    status: '',\r\n\r\n}\r\n\r\nconst profileReducer = (state = initiationState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            let newPost = {\r\n                id: 10,\r\n                message: action.bodyPost,\r\n                likes: 0,\r\n            }\r\n            return {\r\n                ...state,\r\n                postsData: [...state.postsData, newPost]\r\n            }\r\n        case SET_USER_PROFILE:\r\n            return {\r\n                ...state,\r\n                userProfile: action.userProfile\r\n            }\r\n        case SET_PROFILE_STATUS:\r\n            return {\r\n                ...state,\r\n                status: action.profileStatus\r\n            }\r\n        case DELETE_POST:\r\n            return {\r\n                ...state,\r\n                postsData: [...state.postsData].filter((p) => p.id !== action.idPost)\r\n            }\r\n            case SAVE_PHOTO_SUCCESS:\r\n                return {\r\n                ...state,\r\n                userProfile: {...state.userProfile, photos: action.photos}\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const addPost = (bodyPost) => ({type: ADD_POST, bodyPost})\r\n\r\nexport const deletePost = (idPost) => ({type: DELETE_POST, idPost})\r\n\r\nexport const setUserProfile = (userProfile) => ({type: SET_USER_PROFILE, userProfile})\r\n\r\nexport const setProfileStatus = (profileStatus) => ({type: SET_PROFILE_STATUS, profileStatus})\r\n\r\nexport const savePhotoSuccess = (photos) => ({type: SAVE_PHOTO_SUCCESS, photos})\r\n\r\nexport default profileReducer\r\n\r\nexport const getProfile = (userId) => async (dispatch) => {\r\n    let data = await profileAPI.getProfile(userId)\r\n\r\n    dispatch(setUserProfile(data))\r\n}\r\n\r\nexport const getProfileStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getProfileStatus(userId)\r\n\r\n    dispatch(setProfileStatus(response))\r\n}\r\n\r\nexport const updateProfileStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateProfileStatus(status)\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setProfileStatus(status))\r\n    }\r\n}\r\n\r\nexport const savePhoto = (photos) => async (dispatch) => {\r\n    let response = await profileAPI.savePhoto(photos)\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(savePhotoSuccess(response.data.data.photos))\r\n        dispatch(authMe())\r\n    }\r\n}\r\n\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n    const userId = getState().auth.userID\r\n    let response = await profileAPI.saveProfile(profile)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getProfile(userId))\r\n    } else {\r\n        dispatch(stopSubmit('profile-edit', {_error: response.data.messages[0]}))\r\n        return Promise.reject(response.data.messages[0])\r\n    }\r\n}\r\n","export default __webpack_public_path__ + \"static/media/preloader.eddc5ce2.svg\";","import preLoader from \"../../../assets/images/preloader.svg\";\r\n\r\nconst Preloader = (props) => {\r\n    return (\r\n        <img src={preLoader}/>\r\n    )\r\n}\r\n\r\nexport default Preloader"],"sourceRoot":""}